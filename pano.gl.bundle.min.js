!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("PanoGL",[],e):"object"==typeof exports?exports.PanoGL=e():t.PanoGL=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(exports,t,n){e.o(exports,t)||Object.defineProperty(exports,t,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=141)}([function(t,exports,e){"use strict";exports.__esModule=!0,exports.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,exports,e){t.exports={default:e(145),__esModule:!0}},function(t,exports,e){"use strict";exports.__esModule=!0;var n=e(166),r=function(t){return t&&t.__esModule?t:{default:t}}(n);exports.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,r.default)(t,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,exports,e){"use strict";exports.__esModule=!0;var n=e(74),r=function(t){return t&&t.__esModule?t:{default:t}}(n);exports.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,r.default)(e))&&"function"!=typeof e?t:e}},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}exports.__esModule=!0;var r=e(169),o=n(r),i=e(173),u=n(i),a=e(74),s=n(a);exports.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,s.default)(e)));t.prototype=(0,u.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(o.default?(0,o.default)(t,e):t.__proto__=e)}},function(t,exports,e){t.exports={default:e(143),__esModule:!0}},function(t,exports,e){"use strict";var n=e(179),r=e(214),o=n.check;o.policy=r(n.Checker.prototype,["not","owner"]),t.exports=o},function(t,exports){function e(t){return null!=t&&"object"==typeof t}t.exports=e},function(t,exports,e){"use strict";function n(t,e,n){var r=n.value;return a({},n,{value:function(){this.assertUndisposed(e);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return r.apply(this,n)}})}function r(t,e,n){var r=n.get,o=n.set;return a({},n,{getter:r?function(){this.assertUndisposed(e+" getter");for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return r.apply(this,n)}:void 0,setter:o?function(){this.assertUndisposed(e+" setter");for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return o.apply(this,n)}:void 0})}function o(t,e,o){return o.get||o.set?r(t,e,o):n(t,e,o)}Object.defineProperty(exports,"__esModule",{value:!0});var i=e(30),u=function(t){return t&&t.__esModule?t:{default:t}}(i);exports.default=o;var a=u.default},function(t,exports){var e=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=e)},function(t,exports,e){function n(t){return null==t?void 0===t?a:u:s&&s in Object(t)?o(t):i(t)}var r=e(105),o=e(181),i=e(182),u="[object Null]",a="[object Undefined]",s=r?r.toStringTag:void 0;t.exports=n},function(t,exports){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,exports,e){var n=e(73)("wks"),r=e(47),o=e(11).Symbol,i="function"==typeof o;(t.exports=function(t){return n[t]||(n[t]=i&&o[t]||(i?o:r)("Symbol."+t))}).store=n},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}exports.__esModule=!0;var r=e(1),o=n(r),i=e(5),u=n(i);exports.default=function t(e,n,r){null===e&&(e=Function.prototype);var i=(0,u.default)(e,n);if(void 0===i){var a=(0,o.default)(e);return null===a?void 0:t(a,n,r)}if("value"in i)return i.value;var s=i.get;if(void 0!==s)return s.call(r)}},function(t,exports,e){var n=e(11),r=e(9),o=e(36),i=e(26),u=function(t,e,a){var s,f,l,c=t&u.F,p=t&u.G,d=t&u.S,h=t&u.P,v=t&u.B,y=t&u.W,exports=p?r:r[e]||(r[e]={}),_=exports.prototype,m=p?n:d?n[e]:(n[e]||{}).prototype;p&&(a=e);for(s in a)(f=!c&&m&&void 0!==m[s])&&s in exports||(l=f?m[s]:a[s],exports[s]=p&&"function"!=typeof m[s]?a[s]:v&&f?o(l,n):y&&m[s]==l?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(l):h&&"function"==typeof l?o(Function.call,l):l,h&&((exports.virtual||(exports.virtual={}))[s]=l,t&u.R&&_&&!_[s]&&i(_,s,l)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=e(215),r=function(t){return t&&t.__esModule?t:{default:t}}(n);exports.default=r.default},function(t,exports,e){var n=e(106),r="object"==typeof self&&self&&self.Object===Object&&self,o=n||r||Function("return this")();t.exports=o},function(t,exports){var e=Array.isArray;t.exports=e},function(t,exports,e){function n(t){return"string"==typeof t||!o(t)&&i(t)&&r(t)==u}var r=e(10),o=e(17),i=e(7),u="[object String]";t.exports=n},function(t,exports,e){var n=e(20);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,exports){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,exports,e){t.exports=!e(29)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,exports,e){var n=e(19),r=e(94),o=e(69),i=Object.defineProperty;exports.f=e(21)?Object.defineProperty:function(t,e,u){if(n(t),e=o(e,!0),n(u),r)try{return i(t,e,u)}catch(t){}if("get"in u||"set"in u)throw TypeError("Accessors not supported!");return"value"in u&&(t[e]=u.value),t}},function(t,exports){function e(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=e},function(t,exports,e){var n=e(93),r=e(67);t.exports=function(t){return n(r(t))}},function(t,exports){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,exports,e){var n=e(22),r=e(44);t.exports=e(21)?function(t,e,o){return n.f(t,e,r(1,o))}:function(t,e,n){return t[e]=n,t}},function(t,exports,e){function n(t){if(!o(t))return!1;var e=r(t);return e==u||e==a||e==i||e==s}var r=e(10),o=e(23),i="[object AsyncFunction]",u="[object Function]",a="[object GeneratorFunction]",s="[object Proxy]";t.exports=n},function(t,exports,e){function n(t,e){var n=o(t,e);return r(n)?n:void 0}var r=e(111),o=e(193);t.exports=n},function(t,exports){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,exports,e){t.exports={default:e(176),__esModule:!0}},function(t,exports){function e(t){return function(e){return t(e)}}t.exports=e},function(t,exports,e){(function(t){var n=e(106),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,i=o&&o.exports===r,u=i&&n.process,a=function(){try{return u&&u.binding&&u.binding("util")}catch(t){}}();t.exports=a}).call(exports,e(51)(t))},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,r,o){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o,i,u=e(5),a=n(u),s=e(0),f=n(s),l=e(2),c=n(l),p=e(59),d=n(p),h=e(8),v=n(h),y=e(254),_=n(y),m=(0,_.default)(o=(0,d.default)((i=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,f.default)(this,t),this.debug=n,this.dirty=!0,this.projection_=e}return(0,c.default)(t,[{key:"debug",get:function(){return this.debug_},set:function(t){this.debug_=!!t}},{key:"dirty",get:function(){return this.dirty_},set:function(t){this.dirty_=!!t}},{key:"projection",get:function(){return this.projection_}},{key:"geoVertexes",get:function(){return[]}}]),(0,c.default)(t,[{key:"status",value:function(){return this.dirty&&(this.updateStatus(),this.dirty=!1),{CamProjType:{type:"uniform1i",value:this.projection}}}},{key:"updateStatus",value:function(){}}]),t}(),r(i.prototype,"debug",[v.default],(0,a.default)(i.prototype,"debug"),i.prototype),r(i.prototype,"debug",[v.default],(0,a.default)(i.prototype,"debug"),i.prototype),r(i.prototype,"dirty",[v.default],(0,a.default)(i.prototype,"dirty"),i.prototype),r(i.prototype,"dirty",[v.default],(0,a.default)(i.prototype,"dirty"),i.prototype),r(i.prototype,"projection",[v.default],(0,a.default)(i.prototype,"projection"),i.prototype),r(i.prototype,"geoVertexes",[v.default],(0,a.default)(i.prototype,"geoVertexes"),i.prototype),r(i.prototype,"status",[v.default],(0,a.default)(i.prototype,"status"),i.prototype),o=i))||o)||o;exports.default=m},function(t,exports,e){"use strict";function n(t,e,n){return t<e?e:t>n?n:t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n},function(t,exports){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,exports,e){var n=e(45);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,exports){t.exports={}},function(t,exports,e){var n=e(99),r=e(77);t.exports=Object.keys||function(t){return n(t,r)}},function(t,exports,e){function n(t){return null!=t&&o(t.length)&&!r(t)}var r=e(27),o=e(82);t.exports=n},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){return function(t){function e(){return(0,a.default)(this,e),(0,f.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,c.default)(e,t),e}((0,d.default)(t).with(v.default))}Object.defineProperty(exports,"__esModule",{value:!0});var o=e(1),i=n(o),u=e(0),a=n(u),s=e(3),f=n(s),l=e(4),c=n(l);exports.default=r;var p=e(15),d=n(p),h=e(222),v=n(h)},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var r=e(121),o=n(r),i=e(241),u=n(i),a=e(124),s=n(a),f=e(125),l=n(f);e(249),o.default.injector.LogContext=u.default,o.default.injector.LogPath=s.default,o.default.injector.logFilter=l.default,exports.default=o.default},function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={PROJECTION_LINEAR:1,PROJECTION_CYNLINDRICAL:2,PROJECTION_PLANET:3,PROJECTION_TYPE_pannini:4}},function(t,exports){exports.f={}.propertyIsEnumerable},function(t,exports){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,exports){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,exports,e){var n=e(67);t.exports=function(t){return Object(n(t))}},function(t,exports){var e=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))}},function(t,exports){t.exports=!0},function(t,exports,e){var n=e(22).f,r=e(25),o=e(12)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},function(t,exports,e){var n=e(180),r=e(7),o=Object.prototype,i=o.hasOwnProperty,u=o.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(t){return r(t)&&i.call(t,"callee")&&!u.call(t,"callee")};t.exports=a},function(t,exports){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,exports,e){(function(t){var n=e(16),r=e(108),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,u=i&&i.exports===o,a=u?n.Buffer:void 0,s=a?a.isBuffer:void 0,f=s||r;t.exports=f}).call(exports,e(51)(t))},function(t,exports,e){function n(t){if(!i(t)||r(t)!=u)return!1;var e=o(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&f.call(n)==c}var r=e(10),o=e(109),i=e(7),u="[object Object]",a=Function.prototype,s=Object.prototype,f=a.toString,l=s.hasOwnProperty,c=f.call(Object);t.exports=n},function(t,exports){function e(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}var n=Object.prototype;t.exports=e},function(t,exports,e){var n=e(191),r=e(84),o=e(194),i=e(195),u=e(196),a=e(10),s=e(113),f=s(n),l=s(r),c=s(o),p=s(i),d=s(u),h=a;(n&&"[object DataView]"!=h(new n(new ArrayBuffer(1)))||r&&"[object Map]"!=h(new r)||o&&"[object Promise]"!=h(o.resolve())||i&&"[object Set]"!=h(new i)||u&&"[object WeakMap]"!=h(new u))&&(h=function(t){var e=a(t),n="[object Object]"==e?t.constructor:void 0,r=n?s(n):"";if(r)switch(r){case f:return"[object DataView]";case l:return"[object Map]";case c:return"[object Promise]";case p:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=h},function(t,exports,e){var n=e(197),r=e(31),o=e(32),i=o&&o.isTypedArray,u=i?r(i):n;t.exports=u},function(t,exports,e){function n(t){return"number"==typeof t||o(t)&&r(t)==i}var r=e(10),o=e(7),i="[object Number]";t.exports=n},function(t,exports,e){"use strict";function n(t){var e=t;return(0,o.default)(t)&&(e=document.querySelector(t)),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var r=e(18),o=function(t){return t&&t.__esModule?t:{default:t}}(r)},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){return function(t){function e(){return(0,a.default)(this,e),(0,f.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,c.default)(e,t),e}((0,d.default)(t).with(v.default))}Object.defineProperty(exports,"__esModule",{value:!0});var o=e(1),i=n(o),u=e(0),a=n(u),s=e(3),f=n(s),l=e(4),c=n(l);exports.default=r;var p=e(15),d=n(p),h=e(127),v=n(h)},function(t,exports,e){"use strict";function n(){c=!1}function r(t){if(!t)return void(f!==d&&(f=d,n()));if(t!==f){if(t.length!==d.length)throw new Error("Custom alphabet for shortid must be "+d.length+" unique characters. You submitted "+t.length+" characters: "+t);var e=t.split("").filter(function(t,e,n){return e!==n.lastIndexOf(t)});if(e.length)throw new Error("Custom alphabet for shortid must be "+d.length+" unique characters. These characters were not unique: "+e.join(", "));f=t,n()}}function o(t){return r(t),f}function i(t){p.seed(t),l!==t&&(n(),l=t)}function u(){f||r(d);for(var t,e=f.split(""),n=[],o=p.nextValue();e.length>0;)o=p.nextValue(),t=Math.floor(o*e.length),n.push(e.splice(t,1)[0]);return n.join("")}function a(){return c||(c=u())}function s(t){return a()[t]}var f,l,c,p=e(257),d="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";t.exports={characters:o,seed:i,lookup:s,shuffled:a}},function(t,exports,e){function n(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var r=e(265),o=e(266),i=e(267),u=e(268),a=e(269);n.prototype.clear=r,n.prototype.delete=o,n.prototype.get=i,n.prototype.has=u,n.prototype.set=a,t.exports=n},function(t,exports,e){function n(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}var r=e(63);t.exports=n},function(t,exports){function e(t,e){return t===e||t!==t&&e!==e}t.exports=e},function(t,exports,e){var n=e(28),r=n(Object,"create");t.exports=r},function(t,exports,e){function n(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}var r=e(284);t.exports=n},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=e(1),o=n(r),i=e(0),u=n(i),a=e(2),s=n(a),f=e(3),l=n(f),c=e(4),p=n(c),d=e(15),h=n(d),v=e(139),y=n(v),_=function(t){return function(t){function e(){return(0,u.default)(this,e),(0,l.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,p.default)(e,t),(0,s.default)(e,[{key:"mesh",value:function(){var t=this.vertexes,e=t.length;if(3===e)return this.flatten();for(var n=[],r=e-1,o=1;o<r;++o)n.push(t[0]),n.push(t[o]),n.push(t[o+1]);return n.map(function(t){return t.xyz}).reduce(function(t,e){return t.concat(e)},[])}}]),e}(t)},m=function(t){function e(t){(0,u.default)(this,e);var n=(0,l.default)(this,(e.__proto__||(0,o.default)(e)).call(this));return n.initGeometry(t),n}return(0,p.default)(e,t),e}((0,h.default)().with(y.default,_));exports.default=m},function(t,exports){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,exports,e){var n=e(43),r=e(44),o=e(24),i=e(69),u=e(25),a=e(94),s=Object.getOwnPropertyDescriptor;exports.f=e(21)?s:function(t,e){if(t=o(t),e=i(e,!0),a)try{return s(t,e)}catch(t){}if(u(t,e))return r(!n.f.call(t,e),t[e])}},function(t,exports,e){var n=e(20);t.exports=function(t,e){if(!n(t))return t;var r,o;if(e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!n(o=r.call(t)))return o;if(!e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,exports,e){var n=e(20),r=e(11).document,o=n(r)&&n(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,exports,e){var n=e(14),r=e(9),o=e(29);t.exports=function(t,e){var i=(r.Object||{})[t]||Object[t],u={};u[t]=e(i),n(n.S+n.F*o(function(){i(1)}),"Object",u)}},function(t,exports,e){var n=e(73)("keys"),r=e(47);t.exports=function(t){return n[t]||(n[t]=r(t))}},function(t,exports,e){var n=e(11),r=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}exports.__esModule=!0;var r=e(147),o=n(r),i=e(157),u=n(i),a="function"==typeof u.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof u.default&&t.constructor===u.default&&t!==u.default.prototype?"symbol":typeof t};exports.default="function"==typeof u.default&&"symbol"===a(o.default)?function(t){return void 0===t?"undefined":a(t)}:function(t){return t&&"function"==typeof u.default&&t.constructor===u.default&&t!==u.default.prototype?"symbol":void 0===t?"undefined":a(t)}},function(t,exports){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},function(t,exports,e){var n=e(19),r=e(151),o=e(77),i=e(72)("IE_PROTO"),u=function(){},a=function(){var t,n=e(70)("iframe"),r=o.length;for(n.style.display="none",e(101).appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;r--;)delete a.prototype[o[r]];return a()};t.exports=Object.create||function(t,e){var o;return null!==t?(u.prototype=n(t),o=new u,u.prototype=null,o[i]=t):o=a(),void 0===e?o:r(o,e)}},function(t,exports){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,exports,e){exports.f=e(12)},function(t,exports,e){var n=e(11),r=e(9),o=e(48),i=e(78),u=e(22).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||u(e,t,{value:i.f(t)})}},function(t,exports){exports.f=Object.getOwnPropertySymbols},function(t,exports){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,exports){function e(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}var n=9007199254740991;t.exports=e},function(t,exports,e){function n(t){return!0===t||!1===t||o(t)&&r(t)==i}var r=e(10),o=e(7),i="[object Boolean]";t.exports=n},function(t,exports,e){var n=e(28),r=e(16),o=n(r,"Map");t.exports=o},function(t,exports){function e(t){return void 0===t}t.exports=e},function(t,exports,e){t.exports={default:e(218),__esModule:!0}},function(t,exports,e){"use strict";function n(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}var r=e(45);t.exports.f=function(t){return new n(t)}},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if((0,s.default)(t))return Math.floor(t);if((0,u.default)(t)){var e=parseInt(t);if(!isNaN(e))return e;var n=["DEBUG","INFO","WARN","ERROR","MUTE"].indexOf(t.toUpperCase());return n<0&&(n=0),n}return 0}function o(t){return["DEBUG","INFO","WARN","ERROR","MUTE"][r(t)]||"LEVEL("+t+")"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.anything2Level=r,exports.anything2LevelString=o;var i=e(18),u=n(i),a=e(57),s=n(a)},function(t,exports,e){"use strict";t.exports=e(256)},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,r,o){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o,i,u=e(5),a=n(u),s=e(1),f=n(s),l=e(0),c=n(l),p=e(13),d=n(p),h=e(2),v=n(h),y=e(30),_=n(y),m=e(6),g=n(m),b=e(129),x=n(b),w=e(40),O=n(w),j=e(8),P=n(j),T=_.default,k=1,M=(0,O.default)((i=function(){function t(e){var n=this,r=e.projection,o=void 0===r?"equiprectangular":r,i=e.frameSize,u=e.provider;(0,c.default)(this,t),(0,g.default)(o,"projection").among("equiprectangular","fisheye"),(0,g.default)(u,"provider").isObject();var a=o.toLowerCase();if("equiprectangular"!==a)throw new Error("Unimplemented projection type("+a+").");if(a=k,this.projection_=a,i){var s=this.frameSize_=(0,x.default)({},s),f=this.frameCanvas_=document.createElement("canvas");f.width=s.width,f.height=s.height;f.getContext("2d").fillRect(0,0,f.width,f.height),this.direct_=!1}else this.direct_=!0;u.on("*",function(t){return n.trigger(T({target:n},t))}),this.provider_=u}return(0,v.default)(t,[{key:"frame",get:function(){return this.direct_?this.provider_.media:this.frameCanvas_}},{key:"projection",get:function(){return this.projection_}},{key:"frameCanvas",get:function(){return this.frameCanvas_}},{key:"direct",get:function(){return this.direct_}},{key:"provider",get:function(){return this.provider_}}]),(0,v.default)(t,[{key:"dispose",value:function(){this.provider_.dispose(),this.provider_=null,this.frameCanvas_=null,(0,d.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"dispose",this).call(this)}},{key:"update",value:function(){return this.provider_.updateTexture(this)}}]),t}(),r(i.prototype,"frame",[P.default],(0,a.default)(i.prototype,"frame"),i.prototype),r(i.prototype,"projection",[P.default],(0,a.default)(i.prototype,"projection"),i.prototype),r(i.prototype,"frameCanvas",[P.default],(0,a.default)(i.prototype,"frameCanvas"),i.prototype),r(i.prototype,"direct",[P.default],(0,a.default)(i.prototype,"direct"),i.prototype),r(i.prototype,"provider",[P.default],(0,a.default)(i.prototype,"provider"),i.prototype),r(i.prototype,"update",[P.default],(0,a.default)(i.prototype,"update"),i.prototype),o=i))||o;exports.default=M},function(t,exports,e){function n(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var r=e(131);t.exports=n},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=e(1),o=n(r),i=e(0),u=n(i),a=e(3),s=n(a),f=e(4),l=n(f),c=e(15),p=n(c),d=e(33),h=n(d),v=e(138),y=n(v),_=e(330),m=n(_),g=e(42),b=n(g),x=function(t){function e(t){var n=t.left,r=t.right,i=t.top,a=t.bottom,f=t.povLatitude,l=void 0===f?0:f,c=t.povLongitude,p=void 0===c?0:c,d=t.debug,h=void 0!==d&&d;(0,u.default)(this,e);var v=(0,s.default)(this,(e.__proto__||(0,o.default)(e)).call(this,b.default.PROJECTION_LINEAR,h));return v.initModel(l,p),v.updateConstitutive({left:n,right:r,top:i,bottom:a}),v}return(0,l.default)(e,t),e}((0,p.default)(h.default).with(y.default,m.default));exports.default=x},function(t,exports,e){var n=e(35);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,exports,e){t.exports=!e(21)&&!e(29)(function(){return 7!=Object.defineProperty(e(70)("div"),"a",{get:function(){return 7}}).a})},function(t,exports,e){var n=e(25),r=e(46),o=e(72)("IE_PROTO"),i=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?i:null}},function(t,exports,e){"use strict";var n=e(149)(!0);e(97)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})})},function(t,exports,e){"use strict";var n=e(48),r=e(14),o=e(98),i=e(26),u=e(25),a=e(37),s=e(150),f=e(49),l=e(95),c=e(12)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,h,v,y,_,m){s(h,e,v);var g,b,x,w=function(t){if(!p&&t in T)return T[t];switch(t){case"keys":case"values":return function(){return new h(this,t)}}return function(){return new h(this,t)}},O=e+" Iterator",j="values"==y,P=!1,T=t.prototype,k=T[c]||T["@@iterator"]||y&&T[y],M=!p&&k||w(y),E=y?j?w("entries"):M:void 0,z="Array"==e?T.entries||k:k;if(z&&(x=l(z.call(new t)))!==Object.prototype&&x.next&&(f(x,O,!0),n||u(x,c)||i(x,c,d)),j&&k&&"values"!==k.name&&(P=!0,M=function(){return k.call(this)}),n&&!m||!p&&!P&&T[c]||i(T,c,M),a[e]=M,a[O]=d,y)if(g={values:j?M:w("values"),keys:_?M:w("keys"),entries:E},m)for(b in g)b in T||o(T,b,g[b]);else r(r.P+r.F*(p||P),e,g);return g}},function(t,exports,e){t.exports=e(26)},function(t,exports,e){var n=e(25),r=e(24),o=e(152)(!1),i=e(72)("IE_PROTO");t.exports=function(t,e){var u,a=r(t),s=0,f=[];for(u in a)u!=i&&n(a,u)&&f.push(u);for(;e.length>s;)n(a,u=e[s++])&&(~o(f,u)||f.push(u));return f}},function(t,exports,e){var n=e(75),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},function(t,exports,e){var n=e(11).document;t.exports=n&&n.documentElement},function(t,exports,e){e(154);for(var n=e(11),r=e(26),o=e(37),i=e(12)("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),a=0;a<u.length;a++){var s=u[a],f=n[s],l=f&&f.prototype;l&&!l[i]&&r(l,i,s),o[s]=o.Array}},function(t,exports,e){var n=e(99),r=e(77).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},function(t,exports){},function(t,exports,e){var n=e(16),r=n.Symbol;t.exports=r},function(t,exports,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(exports,e(81))},function(t,exports,e){function n(t){return o(t)&&r(t)}var r=e(39),o=e(7);t.exports=n},function(t,exports){function e(){return!1}t.exports=e},function(t,exports,e){var n=e(110),r=n(Object.getPrototypeOf,Object);t.exports=r},function(t,exports){function e(t,e){return function(n){return t(e(n))}}t.exports=e},function(t,exports,e){function n(t){return!(!i(t)||o(t))&&(r(t)?d:s).test(u(t))}var r=e(27),o=e(192),i=e(23),u=e(113),a=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,f=Function.prototype,l=Object.prototype,c=f.toString,p=l.hasOwnProperty,d=RegExp("^"+c.call(p).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=n},function(t,exports,e){var n=e(16),r=n["__core-js_shared__"];t.exports=r},function(t,exports){function e(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var n=Function.prototype,r=n.toString;t.exports=e},function(t,exports,e){"use strict";function n(t,e,n,r){if(Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(o&&!1===o.configurable)throw new Error(e+"is NOT a configurable property.")}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:n,set:r})}t.exports=n},function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=e(216),r=function(t){return t&&t.__esModule?t:{default:t}}(n);exports.default=r.default},function(t,exports,e){var n=e(35),r=e(12)("toStringTag"),o="Arguments"==n(function(){return arguments}()),i=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,u,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(u=i(e=Object(t),r))?u:o?n(e):"Object"==(a=n(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,exports,e){var n=e(19),r=e(45),o=e(12)("species");t.exports=function(t,e){var i,u=n(t).constructor;return void 0===u||void 0==(i=n(u)[o])?e:r(i)}},function(t,exports,e){var n,r,o,i=e(36),u=e(231),a=e(101),s=e(70),f=e(11),l=f.process,c=f.setImmediate,p=f.clearImmediate,d=f.MessageChannel,h=f.Dispatch,v=0,y={},_=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},m=function(t){_.call(t.data)};c&&p||(c=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return y[++v]=function(){u("function"==typeof t?t:Function(t),e)},n(v),v},p=function(t){delete y[t]},"process"==e(35)(l)?n=function(t){l.nextTick(i(_,t,1))}:h&&h.now?n=function(t){h.now(i(_,t,1))}:d?(r=new d,o=r.port2,r.port1.onmessage=m,n=i(o.postMessage,o,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(n=function(t){f.postMessage(t+"","*")},f.addEventListener("message",m,!1)):n="onreadystatechange"in s("script")?function(t){a.appendChild(s("script")).onreadystatechange=function(){a.removeChild(this),_.call(t)}}:function(t){setTimeout(i(_,t,1),0)}),t.exports={set:c,clear:p}},function(t,exports){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,exports,e){var n=e(19),r=e(20),o=e(87);t.exports=function(t,e){if(n(t),r(e)&&e.constructor===t)return e;var i=o.f(t);return(0,i.resolve)(e),i.promise}},function(t,exports,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,r,o){n(this,t),t.injector.inject(this,e,r,o)}return r(t,[{key:"debug",value:function(){if(!this.filter||this.filter(t.Levels.DEBUG,this.moduleName)){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];this.ctx.log.apply(this.ctx,[t.Levels.DEBUG,this.moduleName].concat(n))}}},{key:"info",value:function(){if(!this.filter||this.filter(t.Levels.INFO,this.moduleName)){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];this.ctx.log.apply(this.ctx,[t.Levels.INFO,this.moduleName].concat(n))}}},{key:"warn",value:function(){if(!this.filter||this.filter(t.Levels.WARN,this.moduleName)){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];this.ctx.log.apply(this.ctx,[t.Levels.WARN,this.moduleName].concat(n))}}},{key:"error",value:function(){if(!this.filter||this.filter(t.Levels.ERROR,this.moduleName)){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];this.ctx.log.apply(this.ctx,[t.Levels.ERROR,this.moduleName].concat(n))}}},{key:"print",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.ctx.log.apply(this.ctx,[99,this.moduleName].concat(e))}}]),t}();exports.default=o,o.globalModuleName="global",o.Levels={DEBUG:0,INFO:1,WARN:2,ERROR:3,MUTE:4},o.injector={inject:function(t,e,n,r){t.moduleName=new this.LogPath(e||o.globalModuleName),t.ctx=n||new this.LogContext,t.filter=r||this.logFilter}}},function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=e(243),r=function(t){return t&&t.__esModule?t:{default:t}}(n),o=e(88);exports.default=(0,r.default)({"chivy-level":{def:"WARN",fit:o.anything2Level},"chivy-modules":{def:["**"],fit:r.default.helper.fit.array},"chivy-context-flags":{def:["color","level","module"],fit:r.default.helper.fit.array}})},function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=new Function("return this");exports.default=n()},function(t,exports,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(;t.length&&e.length;){var n=t.shift(),r=t[0],i=e.shift(),u=o(n,r,i);if(u<0)return!1;0===u?n===s.doubleWildcard&&t.unshift(n):u>0&&n!==s.doubleWildcard&&t.shift()}return!e.length&&(!t.length||!t.filter(function(t){return t!==s.doubleWildcard}).length)}function o(t,e,n){return t===s.wildcard?0:t===s.doubleWildcard?0===o(e,null,n)?1:0:t===n?0:-1}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=e(18),a=function(t){return t&&t.__esModule?t:{default:t}}(u),s=function(){function t(e){n(this,t);var r=(e||"").toString();this.sections_=r.split(/\/+/).map(function(t){return t.trim()}).filter(function(t){return t.length}),this.sections_.length||console.warn('不建议使用空字符串("'+r+'")构造LogPath实例.')}return i(t,[{key:"sections",get:function(){return this.sections_.slice()}}]),i(t,[{key:"toString",value:function(){return this.sections.join("/")}},{key:"equal",value:function(t){return this.toString()===t.toString()}},{key:"match",value:function(e){var n=(0,a.default)(e)?new t(e):e;if(-1!==e.toString().indexOf(t.wildcard))throw new Error("被匹配的路径不可包含通配符(*或**).");return r(this.sections,n.sections)}}]),t}();exports.default=s,s.wildcard="*",s.doubleWildcard="**"},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){return r.level_<=t&&r.modules_.some(function(t){return t.match(e)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var o=e(122),i=n(o),u=e(88),a=e(124),s=n(a);r.on=function(t){var e=r.modules_||[];e.some(function(e){return e.equal(t)})||(r.modules_=e.concat([new s.default(t)]))},r.off=function(t){var e=r.modules_||[];r.modules_=e.filter(function(e){return!e.equal(t)})},r.setLevel=function(t){r.level_=(0,u.anything2Level)(t)},r.level_=i.default["chivy-level"],r.modules_=i.default["chivy-modules"].map(function(t){return new s.default(t)})},function(t,exports,e){(function(t,e){!function(t,n){"use strict";function r(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return f[s]=r,a(s),s++}function o(t){delete f[t]}function i(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function u(t){if(l)setTimeout(u,0,t);else{var e=f[t];if(e){l=!0;try{i(e)}finally{o(t),l=!1}}}}if(!t.setImmediate){var a,s=1,f={},l=!1,c=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?function(){a=function(t){e.nextTick(function(){u(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&u(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),a=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){u(t.data)},a=function(e){t.port2.postMessage(e)}}():c&&"onreadystatechange"in c.createElement("script")?function(){var t=c.documentElement;a=function(e){var n=c.createElement("script");n.onreadystatechange=function(){u(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){a=function(t){setTimeout(u,0,t)}}(),p.setImmediate=r,p.clearImmediate=o}}("undefined"==typeof self?void 0===t?this:t:self)}).call(exports,e(81),e(252))},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var r=e(1),o=n(r),i=e(0),u=n(i),a=e(3),s=n(a),f=e(2),l=n(f),c=e(4),p=n(c);exports.default=function(t){return function(t){function e(){var t;(0,u.default)(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=(0,s.default)(this,(t=e.__proto__||(0,o.default)(e)).call.apply(t,[this].concat(r)));return a.disposed_=!1,a}return(0,p.default)(e,t),(0,l.default)(e,[{key:"disposed",get:function(){return this.disposed_}}]),(0,l.default)(e,[{key:"dispose",value:function(){this.assertUndisposed("dispose"),this.disposed_=!0}},{key:"assertUndisposed",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown";if(this.disposed)throw new Error("Object has been disposed, method("+t+") should NOT be invoked.")}}]),e}(t)}},function(t,exports,e){"use strict";function n(t,e){for(var n,o=0,i="";!n;)i+=t(e>>4*o&15|r()),n=e<Math.pow(16,o+1),o++;return i}var r=e(258);t.exports=n},function(t,exports,e){var n=e(263),r=e(305),o=r(function(t,e,r){n(t,e,r)});t.exports=o},function(t,exports,e){function n(t,e,n){(void 0===n||o(t[e],n))&&(void 0!==n||e in t)||r(t,e,n)}var r=e(91),o=e(63);t.exports=n},function(t,exports,e){var n=e(28),r=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=r},function(t,exports,e){function n(t){return i(t)?r(t,!0):o(t)}var r=e(301),o=e(303),i=e(39);t.exports=n},function(t,exports){function e(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||r.test(t))&&t>-1&&t%1==0&&t<e}var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=e},function(t,exports){function e(t){return t}t.exports=e},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,r,o){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o,i,u=e(5),a=n(u),s=e(1),f=n(s),l=e(0),c=n(l),p=e(13),d=n(p),h=e(2),v=n(h),y=e(59),_=n(y),m=e(8),g=n(m),b=1e3,x=(0,_.default)((i=function(){function t(){var e=this;(0,c.default)(this,t),this.rateValue_=0,this.counter_=0;var n=b;this.timer_=setInterval(function(t){e.rateValue_=1e3*e.counter_/n,e.counter_=0},n)}return(0,v.default)(t,[{key:"rate",get:function(){return this.rateValue_}}]),(0,v.default)(t,[{key:"dispose",value:function(){clearInterval(this.timer_),(0,d.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"dispose",this).call(this)}},{key:"increment",value:function(){this.counter_++}}]),t}(),r(i.prototype,"rate",[g.default],(0,a.default)(i.prototype,"rate"),i.prototype),r(i.prototype,"increment",[g.default],(0,a.default)(i.prototype,"increment"),i.prototype),o=i))||o;exports.default=x},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r,o,i=e(5),u=n(i),a=e(0),s=n(a),f=e(2),l=n(f),c=e(6),p=n(c),d=e(59),h=n(d),v=e(8),y=n(v),_=(0,h.default)((o=function(){function t(e){(0,s.default)(this,t),(0,p.default)(e,"limit").gt(0),this.lastTime_=0,this.limit_=1e3/e}return(0,l.default)(t,[{key:"shouldRun",get:function(){var t=(new Date).getTime(),e=t-this.lastTime_>=this.limit_;return e&&(this.lastTime_=t),e}}]),t}(),function(t,e,n,r,o){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}(o.prototype,"shouldRun",[y.default],(0,u.default)(o.prototype,"shouldRun"),o.prototype),r=o))||r;exports.default=_},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){var e=t.type,n=t.data,r=j[e];if(!r)throw new TypeError("Can NOT find camera class: "+e+".");return new r((0,v.default)({},P[e],n))}Object.defineProperty(exports,"__esModule",{value:!0});var o=e(1),i=n(o),u=e(0),a=n(u),s=e(2),f=n(s),l=e(3),c=n(l),p=e(4),d=n(p),h=e(129),v=n(h),y=e(325),_=n(y),m=e(329),g=n(m),b=e(331),x=n(b),w=e(332),O=n(w),j={perspective:_.default,cylindrical:g.default,planet:x.default,pannini:O.default},P={perspective:{fov:70,aspect:1},cylindrical:{},planet:{},pannini:{}};exports.default=function(t){return function(t){function e(){return(0,a.default)(this,e),(0,c.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,d.default)(e,t),(0,f.default)(e,[{key:"createCamera",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.el,n={type:"perspective",data:{fov:70,aspect:e.clientWidth/e.clientHeight}};return r(t||n)}}]),e}(t)}},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,r,o){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Object.defineProperty(exports,"__esModule",{value:!0});var o=e(5),i=n(o),u=e(1),a=n(u),s=e(0),f=n(s),l=e(2),c=n(l),p=e(3),d=n(p),h=e(13),v=n(h),y=e(4),_=n(y),m=e(30),g=n(m),b=e(41),x=n(b),w=e(6),O=n(w),j=e(8),P=n(j),T=e(326),k=n(T),M=e(34),E=n(M),z=e(327),L=Math.sin,A=Math.cos,C=g.default,N=(new x.default("pano.gl/core/LinearProjection"),new k.default(100,0,0,0).mesh());exports.default=function(t){var e;return e=function(t){function e(){return(0,f.default)(this,e),(0,d.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,_.default)(e,t),(0,c.default)(e,[{key:"initModel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,O.default)(t,"povLatitude").isNumber(),(0,O.default)(e,"povLongitude").isNumber(),this.transMat_=new z.Matrix4,this.projectionMat_=new z.Matrix4,this.viewMat_=new z.Matrix4,this.povLatitude=t,this.povLongitude=e}},{key:"rotate",value:function(t,e){(0,O.default)(t,"angleX").isNumber(),(0,O.default)(e,"angleY").isNumber(),this.povLongitude+=t,this.povLatitude+=e}},{key:"status",value:function(){return C((0,v.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"status",this).call(this),{CamTransMatrix:{type:"uniformMatrix4fv",value:new z.Matrix4(this.transMat_).elements,extraParams:{}}})}},{key:"updateStatus",value:function(){(0,v.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"updateStatus",this).call(this),this.updateMatrix()}},{key:"updateMatrix",value:function(){var t=this.povLongitude*Math.PI/180,e=this.povLatitude*Math.PI/180;this.debug?this.viewMat_.setLookAt(10*A(e)*A(t),10*L(e),10*-A(e)*L(t),0,0,0,0,1,0):this.viewMat_.setLookAt(0,0,0,A(e)*A(t),L(e),-A(e)*L(t),0,1,0),this.transMat_=new z.Matrix4(this.projectionMat_).multiply(this.viewMat_)}},{key:"geoVertexes",get:function(){return N}},{key:"povLatitude",get:function(){return this.povLatitude_},set:function(t){(0,O.default)(t,"lat").isNumber();var e=(0,E.default)(t%360,-90,90);this.povLatitude_=e,this.dirty=!0}},{key:"povLongitude",get:function(){return this.povLongitude_},set:function(t){(0,O.default)(t,"long").isNumber();var e=t%360;e<0&&(e=360+e),this.povLongitude_=e,this.dirty=!0}},{key:"projectionMatrix",get:function(){return this.projectionMat_}}]),e}(t),r(e.prototype,"geoVertexes",[P.default],(0,i.default)(e.prototype,"geoVertexes"),e.prototype),r(e.prototype,"povLatitude",[P.default],(0,i.default)(e.prototype,"povLatitude"),e.prototype),r(e.prototype,"povLatitude",[P.default],(0,i.default)(e.prototype,"povLatitude"),e.prototype),r(e.prototype,"povLongitude",[P.default],(0,i.default)(e.prototype,"povLongitude"),e.prototype),r(e.prototype,"povLongitude",[P.default],(0,i.default)(e.prototype,"povLongitude"),e.prototype),r(e.prototype,"projectionMatrix",[P.default],(0,i.default)(e.prototype,"projectionMatrix"),e.prototype),r(e.prototype,"rotate",[P.default],(0,i.default)(e.prototype,"rotate"),e.prototype),r(e.prototype,"status",[P.default],(0,i.default)(e.prototype,"status"),e.prototype),e}},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var r=e(1),o=n(r),i=e(0),u=n(i),a=e(3),s=n(a),f=e(2),l=n(f),c=e(4),p=n(c),d=e(6),h=n(d),v=e(17),y=n(v),_=e(140),m=n(_);exports.default=function(t){return function(t){function e(){var t;(0,u.default)(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=(0,s.default)(this,(t=e.__proto__||(0,o.default)(e)).call.apply(t,[this].concat(r)));return a.vertexes_=[],a}return(0,p.default)(e,t),(0,l.default)(e,[{key:"vertexes",get:function(){return this.vertexes_}}]),(0,l.default)(e,[{key:"initGeometry",value:function(t){(0,h.default)(t,"vertexes").isArray().length().gt(2);var e=t;this.vertexes_=e.map(function(t){return(0,y.default)(t)?new m.default(t):((0,h.default)(t,"vertex").instanceOf(m.default),t.clone())})}},{key:"flatten",value:function(){return this.vertexes_.map(function(t){return t.xyz}).reduce(function(t,e){return t.concat(e)},[])}}]),e}(t)}},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=e(0),o=n(r),i=e(2),u=n(i),a=e(6),s=n(a),f=e(17),l=n(f),c=function(){function t(e,n,r){(0,o.default)(this,t),(0,s.default)(e,"x").is("array","number"),(0,s.default)(n,"y").is("number","undefined"),(0,s.default)(r,"z").is("number","undefined");var i=(0,l.default)(e)?e.slice():[e,n,r];this.x=i[0],this.y=i[1],this.z=i[2],this.xyz=i}return(0,u.default)(t,[{key:"clone",value:function(){return new t(this.x,this.y,this.z)}}]),t}();exports.default=c},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FramelessVideoViewer=exports.FramelessImageViewer=void 0;var r=e(142),o=n(r),i=e(333),u=n(i);exports.FramelessImageViewer=o.default,exports.FramelessVideoViewer=u.default},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,r,o){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o,i=e(5),u=n(i),a=e(1),s=n(a),f=e(0),l=n(f),c=e(3),p=n(c),d=e(13),h=n(d),v=e(2),y=n(v),_=e(4),m=n(_),g=e(30),b=n(g),x=e(6),w=n(x),O=e(15),j=n(O),P=e(8),T=n(P),k=e(115),M=n(k),E=e(90),z=n(E),L=e(324),A=n(L),C=e(137),N=n(C),R=b.default,S=(o=function(t){function e(t){var n=t.el,r=t.src,o=t.projection,i=void 0===o?"equiprectangular":o,u=t.frameSize,a=t.camera;(0,l.default)(this,e);var f=(0,p.default)(this,(e.__proto__||(0,s.default)(e)).call(this,n));(0,w.default)(r,"src").isString(),(0,w.default)(i,"projection").among("equiprectangular","fisheye");var c=f.createCamera(a);f.setCamera(c);var d=new A.default(r),h=new z.default({projection:i,frameSize:u,provider:d});return h.on("*",function(t){return f.trigger(R({target:f},t))}),f.setTexture(h),f}return(0,m.default)(e,t),(0,y.default)(e,[{key:"src",get:function(){return this.texture.provider.src},set:function(t){(0,w.default)(t,"url").isString(),this.texture.provider.src=t}},{key:"cameraOptions",set:function(t){var e=this.createCamera(t);this.setCamera(e)}}]),(0,y.default)(e,[{key:"dispose",value:function(){(0,h.default)(e.prototype.__proto__||(0,s.default)(e.prototype),"dispose",this).call(this)}}]),e}((0,j.default)(M.default).with(N.default)),r(o.prototype,"src",[T.default],(0,u.default)(o.prototype,"src"),o.prototype),r(o.prototype,"src",[T.default],(0,u.default)(o.prototype,"src"),o.prototype),r(o.prototype,"cameraOptions",[T.default],(0,u.default)(o.prototype,"cameraOptions"),o.prototype),o);exports.default=S},function(t,exports,e){e(144);var n=e(9).Object;t.exports=function(t,e){return n.getOwnPropertyDescriptor(t,e)}},function(t,exports,e){var n=e(24),r=e(68).f;e(71)("getOwnPropertyDescriptor",function(){return function(t,e){return r(n(t),e)}})},function(t,exports,e){e(146),t.exports=e(9).Object.getPrototypeOf},function(t,exports,e){var n=e(46),r=e(95);e(71)("getPrototypeOf",function(){return function(t){return r(n(t))}})},function(t,exports,e){t.exports={default:e(148),__esModule:!0}},function(t,exports,e){e(96),e(102),t.exports=e(78).f("iterator")},function(t,exports,e){var n=e(75),r=e(67);t.exports=function(t){return function(e,o){var i,u,a=String(r(e)),s=n(o),f=a.length;return s<0||s>=f?t?"":void 0:(i=a.charCodeAt(s),i<55296||i>56319||s+1===f||(u=a.charCodeAt(s+1))<56320||u>57343?t?a.charAt(s):i:t?a.slice(s,s+2):u-56320+(i-55296<<10)+65536)}}},function(t,exports,e){"use strict";var n=e(76),r=e(44),o=e(49),i={};e(26)(i,e(12)("iterator"),function(){return this}),t.exports=function(t,e,u){t.prototype=n(i,{next:r(1,u)}),o(t,e+" Iterator")}},function(t,exports,e){var n=e(22),r=e(19),o=e(38);t.exports=e(21)?Object.defineProperties:function(t,e){r(t);for(var i,u=o(e),a=u.length,s=0;a>s;)n.f(t,i=u[s++],e[i]);return t}},function(t,exports,e){var n=e(24),r=e(100),o=e(153);t.exports=function(t){return function(e,i,u){var a,s=n(e),f=r(s.length),l=o(u,f);if(t&&i!=i){for(;f>l;)if((a=s[l++])!=a)return!0}else for(;f>l;l++)if((t||l in s)&&s[l]===i)return t||l||0;return!t&&-1}}},function(t,exports,e){var n=e(75),r=Math.max,o=Math.min;t.exports=function(t,e){return t=n(t),t<0?r(t+e,0):o(t,e)}},function(t,exports,e){"use strict";var n=e(155),r=e(156),o=e(37),i=e(24);t.exports=e(97)(Array,"Array",function(t,e){this._t=i(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):"keys"==e?r(0,n):"values"==e?r(0,t[n]):r(0,[n,t[n]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(t,exports){t.exports=function(){}},function(t,exports){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,exports,e){t.exports={default:e(158),__esModule:!0}},function(t,exports,e){e(159),e(104),e(164),e(165),t.exports=e(9).Symbol},function(t,exports,e){"use strict";var n=e(11),r=e(25),o=e(21),i=e(14),u=e(98),a=e(160).KEY,s=e(29),f=e(73),l=e(49),c=e(47),p=e(12),d=e(78),h=e(79),v=e(161),y=e(162),_=e(19),m=e(20),g=e(24),b=e(69),x=e(44),w=e(76),O=e(163),j=e(68),P=e(22),T=e(38),k=j.f,M=P.f,E=O.f,z=n.Symbol,L=n.JSON,A=L&&L.stringify,C=p("_hidden"),N=p("toPrimitive"),R={}.propertyIsEnumerable,S=f("symbol-registry"),I=f("symbols"),F=f("op-symbols"),D=Object.prototype,V="function"==typeof z,U=n.QObject,B=!U||!U.prototype||!U.prototype.findChild,W=o&&s(function(){return 7!=w(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=k(D,e);r&&delete D[e],M(t,e,n),r&&t!==D&&M(D,e,r)}:M,H=function(t){var e=I[t]=w(z.prototype);return e._k=t,e},q=V&&"symbol"==typeof z.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof z},G=function(t,e,n){return t===D&&G(F,e,n),_(t),e=b(e,!0),_(n),r(I,e)?(n.enumerable?(r(t,C)&&t[C][e]&&(t[C][e]=!1),n=w(n,{enumerable:x(0,!1)})):(r(t,C)||M(t,C,x(1,{})),t[C][e]=!0),W(t,e,n)):M(t,e,n)},Y=function(t,e){_(t);for(var n,r=v(e=g(e)),o=0,i=r.length;i>o;)G(t,n=r[o++],e[n]);return t},J=function(t,e){return void 0===e?w(t):Y(w(t),e)},Z=function(t){var e=R.call(this,t=b(t,!0));return!(this===D&&r(I,t)&&!r(F,t))&&(!(e||!r(this,t)||!r(I,t)||r(this,C)&&this[C][t])||e)},X=function(t,e){if(t=g(t),e=b(e,!0),t!==D||!r(I,e)||r(F,e)){var n=k(t,e);return!n||!r(I,e)||r(t,C)&&t[C][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=E(g(t)),o=[],i=0;n.length>i;)r(I,e=n[i++])||e==C||e==a||o.push(e);return o},K=function(t){for(var e,n=t===D,o=E(n?F:g(t)),i=[],u=0;o.length>u;)!r(I,e=o[u++])||n&&!r(D,e)||i.push(I[e]);return i};V||(z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor!");var t=c(arguments.length>0?arguments[0]:void 0),e=function(n){this===D&&e.call(F,n),r(this,C)&&r(this[C],t)&&(this[C][t]=!1),W(this,t,x(1,n))};return o&&B&&W(D,t,{configurable:!0,set:e}),H(t)},u(z.prototype,"toString",function(){return this._k}),j.f=X,P.f=G,e(103).f=O.f=Q,e(43).f=Z,e(80).f=K,o&&!e(48)&&u(D,"propertyIsEnumerable",Z,!0),d.f=function(t){return H(p(t))}),i(i.G+i.W+i.F*!V,{Symbol:z});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)p(tt[et++]);for(var nt=T(p.store),rt=0;nt.length>rt;)h(nt[rt++]);i(i.S+i.F*!V,"Symbol",{for:function(t){return r(S,t+="")?S[t]:S[t]=z(t)},keyFor:function(t){if(!q(t))throw TypeError(t+" is not a symbol!");for(var e in S)if(S[e]===t)return e},useSetter:function(){B=!0},useSimple:function(){B=!1}}),i(i.S+i.F*!V,"Object",{create:J,defineProperty:G,defineProperties:Y,getOwnPropertyDescriptor:X,getOwnPropertyNames:Q,getOwnPropertySymbols:K}),L&&i(i.S+i.F*(!V||s(function(){var t=z();return"[null]"!=A([t])||"{}"!=A({a:t})||"{}"!=A(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(m(e)||void 0!==t)&&!q(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!q(e))return e}),r[1]=e,A.apply(L,r)}}),z.prototype[N]||e(26)(z.prototype,N,z.prototype.valueOf),l(z,"Symbol"),l(Math,"Math",!0),l(n.JSON,"JSON",!0)},function(t,exports,e){var n=e(47)("meta"),r=e(20),o=e(25),i=e(22).f,u=0,a=Object.isExtensible||function(){return!0},s=!e(29)(function(){return a(Object.preventExtensions({}))}),f=function(t){i(t,n,{value:{i:"O"+ ++u,w:{}}})},l=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!a(t))return"F";if(!e)return"E";f(t)}return t[n].i},c=function(t,e){if(!o(t,n)){if(!a(t))return!0;if(!e)return!1;f(t)}return t[n].w},p=function(t){return s&&d.NEED&&a(t)&&!o(t,n)&&f(t),t},d=t.exports={KEY:n,NEED:!1,fastKey:l,getWeak:c,onFreeze:p}},function(t,exports,e){var n=e(38),r=e(80),o=e(43);t.exports=function(t){var e=n(t),i=r.f;if(i)for(var u,a=i(t),s=o.f,f=0;a.length>f;)s.call(t,u=a[f++])&&e.push(u);return e}},function(t,exports,e){var n=e(35);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,exports,e){var n=e(24),r=e(103).f,o={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(t){try{return r(t)}catch(t){return i.slice()}};t.exports.f=function(t){return i&&"[object Window]"==o.call(t)?u(t):r(n(t))}},function(t,exports,e){e(79)("asyncIterator")},function(t,exports,e){e(79)("observable")},function(t,exports,e){t.exports={default:e(167),__esModule:!0}},function(t,exports,e){e(168);var n=e(9).Object;t.exports=function(t,e,r){return n.defineProperty(t,e,r)}},function(t,exports,e){var n=e(14);n(n.S+n.F*!e(21),"Object",{defineProperty:e(22).f})},function(t,exports,e){t.exports={default:e(170),__esModule:!0}},function(t,exports,e){e(171),t.exports=e(9).Object.setPrototypeOf},function(t,exports,e){var n=e(14);n(n.S,"Object",{setPrototypeOf:e(172).set})},function(t,exports,e){var n=e(20),r=e(19),o=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{r=e(36)(Function.call,e(68).f(Object.prototype,"__proto__").set,2),r(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return o(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:o}},function(t,exports,e){t.exports={default:e(174),__esModule:!0}},function(t,exports,e){e(175);var n=e(9).Object;t.exports=function(t,e){return n.create(t,e)}},function(t,exports,e){var n=e(14);n(n.S,"Object",{create:e(76)})},function(t,exports,e){e(177),t.exports=e(9).Object.assign},function(t,exports,e){var n=e(14);n(n.S+n.F,"Object",{assign:e(178)})},function(t,exports,e){"use strict";var n=e(38),r=e(80),o=e(43),i=e(46),u=e(93),a=Object.assign;t.exports=!a||e(29)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=a({},t)[n]||Object.keys(a({},e)).join("")!=r})?function(t,e){for(var a=i(t),s=arguments.length,f=1,l=r.f,c=o.f;s>f;)for(var p,d=u(arguments[f++]),h=l?n(d).concat(l(d)):n(d),v=h.length,y=0;v>y;)c.call(d,p=h[y++])&&(a[p]=d[p]);return a}:a},function(t,exports,e){"use strict";function n(t,e){return new a(t,e)}function r(t){throw t}function o(t,e){if(!t){var n=x(e)?e():e;r(new Error(n))}}function i(t,e){return t||console.warn("[PARAM-CHECK-INTERNAL] "+e),!!t}function u(t){return t.replace(/^\S/g,function(t){return t.toUpperCase()})}function a(t,e,n){this.obj_=t,this.name_=e||"[Nameless]",this.owner=n,this._=n;try{W(this,"not",function(){return this.not_||(this.not_=new l(this))})}catch(t){this.not=new l(this)}}function s(t){s.cache||(s.cache={});var e=s.cache[t];if(e)return e;if(!i(C(t),"Bad param: range is NOT string"))return null;var n=Y.exec(t);if(!i(n&&5===n.length,"Bad param: bad range string: "+t))return null;try{var r="["===n[1]?">=":">",o="]"===n[2]?"<=":"<",u=parseFloat(n[2]),a=parseFloat(n[3]),f="return (n $op1 $lowerBound) && (n $op2 $higherBound);".replace("$op1",r).replace("$lowerBound",u).replace("$op2",o).replace("$higherBound",a);e=s.cache[t]=new Function(["n"],f)}catch(t){return null}return e}function f(t){var e=Array.prototype.slice.call(arguments,1);try{if(!t.apply(this,e)){return t.name||t.toString()}}catch(t){return t.message}}function l(t){this.checker_=t}var c=e(50),p=e(183),d=e(39),h=e(107),v=e(83),y=e(52),_=e(185),m=e(187),g=e(188),b=e(198),x=e(27),w=e(82),O=e(199),j=e(201),P=e(203),T=e(204),k=e(57),M=e(23),E=e(7),z=e(53),L=e(205),A=e(207),C=e(18),N=e(209),R=e(56),S=e(85),I=e(210),F=e(211),D=function(t){return!(S(t)||T(t))},V=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},U={isArguments:c,isArrayBuffer:p,isArrayLike:d,isArrayLikeObject:h,isBoolean:v,isBuffer:y,isDate:_,isElement:m,isEmpty:g,isError:b,isFunction:x,isLength:w,isMap:O,isNative:j,isNil:P,isNull:T,isNumber:k,isObject:M,isObjectLike:E,isPlainObject:z,isRegExp:L,isSet:A,isString:C,isSymbol:N,isTypedArray:R,isUndefined:S,isWeakMap:I,isWeakSet:F,isArray:V,isExist:D},B=e(212),W=e(114),H=e(213);t.exports={check:n,Checker:a},a.prototype.is=function(t){for(var e=this.obj_,n=this.name_,r=arguments.length,a=!1,s=0;s<r;++s){var f=arguments[s];if(i(C(f),"Bad param: arguments["+s+"] is NOT string")){f="is"+u(f);var l=U[f];if(i(U.hasOwnProperty(f)&&x(l),"Bad param: arguments["+s+"] is NOT a legal type")&&(a=l(e)))break}}return o(a,B("is",e,n,arguments)),this};for(var q in U){var G=U[q];U.hasOwnProperty(q)&&x(G)&&function(t,e){a.prototype[t]=function(){var n=this.obj_,r=this.name_;return o(e(n),B(t,n,r,arguments)),this}}(q,G)}a.prototype.instanceOf=function(){var t=this.obj_,e=this.name_,n=Array.prototype.slice.call(arguments);return i(n.every(function(t){return x(t)}),"Bad param: ctor is NOT a function")&&o(n.some(function(e){return t instanceof e}),B("instanceOf",t,e,arguments)),this},a.prototype.gt=function(t){var e=this.obj_,n=this.name_;return i(k(t),"Bad param: n is NOT a number")&&(o(k(e),B("isNumber",e,n,arguments)),o(e>t,B("gt",e,n,arguments))),this},a.prototype.greaterThan=a.prototype.gt,a.prototype.egt=function(t){var e=this.obj_,n=this.name_;return i(k(t),"Bad param: n is NOT a number")&&(o(k(e),B("isNumber",e,n,arguments)),o(e>=t,B("gt",e,n,arguments))),this},a.prototype.equalOrGreaterThan=a.prototype.egt,a.prototype.lt=function(t){var e=this.obj_,n=this.name_;return i(k(t),"Bad param: n is NOT a number")&&(o(k(e),B("isNumber",e,n,arguments)),o(e<t,B("lt",e,n,arguments))),this},a.prototype.lessThan=a.prototype.lt,a.prototype.elt=function(t){var e=this.obj_,n=this.name_;return i(k(t),"Bad param: n is NOT a number")&&(o(k(e),B("isNumber",e,n,arguments)),o(e<=t,B("lt",e,n,arguments))),this},a.prototype.equalOrLessThan=a.prototype.elt;var Y=/^([([])([-+]?[\d.]+),\s*([-+]?[\d.]+)([\])])$/;a.prototype.within=function(t){var e=arguments.length;if(0===e)return this;for(var n=this.obj_,r=this.name_,i=!1,u=0;u<e;++u){var t=arguments[u],a=s(t);if(a&&(i=a(n)))break}return o(i,B("within",n,r,arguments)),this},a.prototype.match=function(t){var e=this.obj_,n=this.name_;return i(L(t),"Bad param: n is NOT a regexp")&&(o(C(e),B("isString",e,n,arguments)),o(t.test(e),B("match",e,n,arguments))),this},a.prototype.same=function(t){var e=this.obj_,n=this.name_;return o(e===t,B("same",e,n,arguments)),this},a.prototype.eq=function(t){var e=this.obj_,r=this.name_;return o((n._equal||function(t,e){return H(t,e,!0)})(e,t),B("eq",e,r,arguments)),this},a.prototype.equal=a.prototype.eq,a.prototype.among=function(){var t=this.obj_,e=this.name_,r=n._equal||function(t,e){return H(t,e,!0)},i=Array.prototype.slice.call(arguments,0);return o(i.some(function(e){return r(t,e)}),B("among",t,e,i)),this},a.prototype.has=function(t){var e=this.obj_,n=this.name_;return o(D(e),B("isExist",e,n,arguments)),o(e.hasOwnProperty&&e.hasOwnProperty(t),B("has",e,n,arguments)),new a(e[t],n+"."+t,this)},a.prototype.hasOwn=a.prototype.has,a.prototype.got=function(t){var e=this.obj_,n=this.name_;return o(D(e),B("isExist",e,n,arguments)),o(!S(e[t]),B("got",e,n,arguments)),new a(e[t],n+"."+t,this)},a.prototype.length=function(){return this.got("length")},a.prototype.map=function(t){var e,n=this.obj_,r=this.name_;o(D(n),B("isExist",n,r,arguments));try{if(x(t))e=t(n);else if(C(t)){var u=n[t];i(x(u),"Bad param: the obj has NOT got a method called"+t)&&(e=u.apply(n,Array.prototype.slice.call(arguments,1)))}else i(!1,"Bad param: fn is illegal")}catch(t){o(!1,t.message)}return new a(e,r+"=>"+(C(t)?t:t.name||"[Anonymous Function]"),this)},a.prototype.meet=function(t){var e,n=this.obj_,r=this.name_;if(x(t))e=f(t,n);else if(t.isPolicy)try{t.__exec(this)}catch(n){e=t.__path()}else i(!1,"Bad param: fn is NOT a function or policy");return o(!e,B("meet",n,r,[e])),this},a.prototype.and=function(t){for(var e,n=this.obj_,r=this.name_,u=arguments.length,a=0;a<u;++a){var s=arguments[a];if(x(s)){if(e=f(s,n)){e=B("and",n,r,[a,e]);break}}else if(s.isPolicy)try{s.__exec(this)}catch(t){e=B("and",n,r,[a,s.__path()]);break}else i(!1,"Bad param: argument["+a+"] is NOT a function or policy")}return o(!e,e),this},a.prototype.or=function(){for(var t=this.obj_,e=this.name_,n=arguments.length,r=[],u=0,a=0;a<n;++a){var s=arguments[a];if(x(s)){var l=f(s,t);if(l){r.push(l),u++;continue}break}if(s.isPolicy){try{s.__exec(this)}catch(t){r.push(s.__path()),u++;continue}break}i(!1,"Bad param: argument["+a+"] is NOT a function or policy")}return o(u<n,B("or",t,e,r)),this};for(var J in a.prototype){var Z=a.prototype[J];a.prototype.hasOwnProperty(J)&&x(Z)&&(l.prototype[J]=function(t){return function(){var e=this.checker_,n=e.obj_,r=e.name_,i=Array.prototype.slice.call(arguments,0),u=!1;try{e[t].apply(e,i)}catch(t){if(0!==t.message.indexOf("[PARAM-CHECK]"))throw t;u=!0}return o(u,function(){return B(t,n,r,i)().replace("[PARAM-CHECK]","[PARAM-CHECK][NOT]")}),e}}(J))}},function(t,exports,e){function n(t){return o(t)&&r(t)==i}var r=e(10),o=e(7),i="[object Arguments]";t.exports=n},function(t,exports,e){function n(t){var e=i.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(t){}var o=u.call(t);return r&&(e?t[a]=n:delete t[a]),o}var r=e(105),o=Object.prototype,i=o.hasOwnProperty,u=o.toString,a=r?r.toStringTag:void 0;t.exports=n},function(t,exports){function e(t){return r.call(t)}var n=Object.prototype,r=n.toString;t.exports=e},function(t,exports,e){var n=e(184),r=e(31),o=e(32),i=o&&o.isArrayBuffer,u=i?r(i):n;t.exports=u},function(t,exports,e){function n(t){return o(t)&&r(t)==i}var r=e(10),o=e(7),i="[object ArrayBuffer]";t.exports=n},function(t,exports,e){var n=e(186),r=e(31),o=e(32),i=o&&o.isDate,u=i?r(i):n;t.exports=u},function(t,exports,e){function n(t){return o(t)&&r(t)==i}var r=e(10),o=e(7),i="[object Date]";t.exports=n},function(t,exports,e){function n(t){return r(t)&&1===t.nodeType&&!o(t)}var r=e(7),o=e(53);t.exports=n},function(t,exports,e){function n(t){if(null==t)return!0;if(a(t)&&(u(t)||"string"==typeof t||"function"==typeof t.splice||s(t)||l(t)||i(t)))return!t.length;var e=o(t);if(e==c||e==p)return!t.size;if(f(t))return!r(t).length;for(var n in t)if(h.call(t,n))return!1;return!0}var r=e(189),o=e(55),i=e(50),u=e(17),a=e(39),s=e(52),f=e(54),l=e(56),c="[object Map]",p="[object Set]",d=Object.prototype,h=d.hasOwnProperty;t.exports=n},function(t,exports,e){function n(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))u.call(t,n)&&"constructor"!=n&&e.push(n);return e}var r=e(54),o=e(190),i=Object.prototype,u=i.hasOwnProperty;t.exports=n},function(t,exports,e){var n=e(110),r=n(Object.keys,Object);t.exports=r},function(t,exports,e){var n=e(28),r=e(16),o=n(r,"DataView");t.exports=o},function(t,exports,e){function n(t){return!!o&&o in t}var r=e(112),o=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=n},function(t,exports){function e(t,e){return null==t?void 0:t[e]}t.exports=e},function(t,exports,e){var n=e(28),r=e(16),o=n(r,"Promise");t.exports=o},function(t,exports,e){var n=e(28),r=e(16),o=n(r,"Set");t.exports=o},function(t,exports,e){var n=e(28),r=e(16),o=n(r,"WeakMap");t.exports=o},function(t,exports,e){function n(t){return i(t)&&o(t.length)&&!!u[r(t)]}var r=e(10),o=e(82),i=e(7),u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u["[object Arguments]"]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u["[object Map]"]=u["[object Number]"]=u["[object Object]"]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1,t.exports=n},function(t,exports,e){function n(t){if(!o(t))return!1;var e=r(t);return e==a||e==u||"string"==typeof t.message&&"string"==typeof t.name&&!i(t)}var r=e(10),o=e(7),i=e(53),u="[object DOMException]",a="[object Error]";t.exports=n},function(t,exports,e){var n=e(200),r=e(31),o=e(32),i=o&&o.isMap,u=i?r(i):n;t.exports=u},function(t,exports,e){function n(t){return o(t)&&r(t)==i}var r=e(55),o=e(7),i="[object Map]";t.exports=n},function(t,exports,e){function n(t){if(o(t))throw new Error(i);return r(t)}var r=e(111),o=e(202),i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";t.exports=n},function(t,exports,e){var n=e(112),r=e(27),o=e(108),i=n?r:o;t.exports=i},function(t,exports){function e(t){return null==t}t.exports=e},function(t,exports){function e(t){return null===t}t.exports=e},function(t,exports,e){var n=e(206),r=e(31),o=e(32),i=o&&o.isRegExp,u=i?r(i):n;t.exports=u},function(t,exports,e){function n(t){return o(t)&&r(t)==i}var r=e(10),o=e(7),i="[object RegExp]";t.exports=n},function(t,exports,e){var n=e(208),r=e(31),o=e(32),i=o&&o.isSet,u=i?r(i):n;t.exports=u},function(t,exports,e){function n(t){return o(t)&&r(t)==i}var r=e(55),o=e(7),i="[object Set]";t.exports=n},function(t,exports,e){function n(t){return"symbol"==typeof t||o(t)&&r(t)==i}var r=e(10),o=e(7),i="[object Symbol]";t.exports=n},function(t,exports,e){function n(t){return o(t)&&r(t)==i}var r=e(55),o=e(7),i="[object WeakMap]";t.exports=n},function(t,exports,e){function n(t){return o(t)&&r(t)==i}var r=e(10),o=e(7),i="[object WeakSet]";t.exports=n},function(t,exports,e){function n(t){return o(t)?'"'+t+'"':i(t)?"["+t.join(", ")+"]":""+t}function r(t,e,r,o){var i="";if(o=Array.prototype.slice.call(o),"is"===t)i="is NOT "+n(o);else if(0===t.indexOf("is"))i="is NOT a(n) "+t.replace(/^is/,"").toLowerCase();else if("instanceOf"===t){var u=(o[0]||{}).name||"[unknown]";i="is NOT an instance of given constructor: "+u}else if("gt"===t||"greaterThan"===t)i="is NOT greater than "+n(o[0]);else if("lt"===t||"lessThan"===t)i="is NOT less than "+n(o[0]);else if("egt"===t||"equalOrGreaterThan"===t)i="is NOT greater than "+n(o[0]);else if("elt"===t||"equalOrLessThan"===t)i="is NOT less than "+n(o[0]);else if("within"===t)i="is NOT in range(s): "+n(o);else if("match"===t)i="does NOT match regexp: "+n(o[0]);else if("same"===t)i="is NOT the same object to "+n(o[0]);else if("eq"===t||"equal"===t)i="is NOT equal to "+n(o[0]);else if("among"===t)i="is NOT among "+n(o);else if("has"===t||"hasOwn"===t)i="has NO own property: "+n(o[0]);else if("got"===t)i="has NOT property: "+n(o[0]);else if("and"===t){var a=o[0],s=o[1]||"unknown";s.isPolicy&&(s=s.path()),i="does NOT pass the ["+a+']th of an "AND" check, detail: {'+s+"}"}else if("or"===t){for(var f=[],l=0;l<o.length;++l)s=o[l]||"unknown",s.isPolicy&&(s=s.path()),f.push(s);i='does NOT pass an "OR" check, detail: {'+f.join("}{")+"}"}else i="meet"===t?"does NOT pass the check, detail: {"+o[0]+"}":"does NOT pass the check "+t;return"[PARAM-CHECK] Check Failure: "+r+"("+n(e)+") "+i+"."}var o=e(18),i=e(17);t.exports=function(t,e,n,o){return function(){return r(t,e,n,o)}}},function(t,exports,e){"use strict";t.exports=function t(e,n,r){if(e===n)return!0;if(!e||!n||"object"!=typeof e||"object"!=typeof n)return r?e===n:e==n;if(e instanceof Date&&n instanceof Date)return e.getTime()===n.getTime();var o=function(t){return(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")};if(e instanceof RegExp&&n instanceof RegExp)return e.toString()===n.toString()&&o(e)===o(n);if(e.constructor.prototype!==n.constructor.prototype)return!1;var i=Object.keys(e),u=Object.keys(n);return i.length===u.length&&(i.sort(),u.sort(),!!i.every(function(t,e){return t===u[e]})&&i.every(function(r){return t(e[r],n[r])}))}},function(t,exports,e){"use strict";function n(t,e,n){function i(t,n,r){this.fn_=t,this.prev_=n,this.name_=r,this.__initCustomProps(e)}i.prototype.isPolicy=!0,i.prototype.__initCustomProps=function(t){if(t&&t.length)for(var e=t.length,n=this,r=0;r<e;++r){var u=t[r],a=function(t){return function(){return new i(function(e){return e[t]},n,t)}}(u);o(this,u,a)}},i.prototype.__exec=function(t){var e=t,n=this.prev_,o=this.fn_;return n&&(e=n.__exec(t)),r(o)?o(e):t},i.prototype.__path=function(){var t=this.prev_,e=this.name_,n=t?t.__path():"";return n+="."+e};for(var u in t)t.hasOwnProperty(u)&&r(t[u])&&(n&&-1===n.indexOf(u)||(i.prototype[u]=function(t){return function(){var e=this,n=Array.prototype.slice.call(arguments,0);return new i(function(e){return e[t].apply(e,n)},e,t)}}(u)));return new i(null,null,"policy")}var r=e(27),o=e(114);t.exports=n},function(t,exports,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){var e=t||o;if("function"!=typeof e)throw new TypeError("superclass is NOT a class or null.");return{with:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(n||[]).reduce(function(t,e){return e(t)},e)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var o=function t(){n(this,t)}},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,r,o){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o,i,u,a=e(5),s=n(a),f=e(1),l=n(f),c=e(0),p=n(c),d=e(3),h=n(d),v=e(13),y=n(v),_=e(2),m=n(_),g=e(4),b=n(g),x=e(6),w=n(x),O=e(217),j=n(O),P=e(8),T=n(P),k=e(220),M=n(k),E=e(221),z=n(E),L=e(15),A=n(L),C=e(58),N=n(C),R=e(253),S=n(R),I=e(322),F=n(I),D=e(323),V=n(D),U=(0,A.default)(z.default).with(j.default,S.default),B=(o=(0,M.default)("zoom",".renderer-canvas"),i=(0,M.default)("pan",".renderer-canvas"),u=function(t){function e(t){(0,p.default)(this,e);var n=(0,h.default)(this,(e.__proto__||(0,l.default)(e)).call(this));n.PTZ=!0;var r=(0,N.default)(t);return(0,w.default)(r,"realEl").isElement(),n.initRenderFlow(r),n.installPlugin(new F.default(n,"#"+n.frameId)),n.installPlugin(new V.default(n,"#"+n.frameId)),n.initDecoratedDelegate(r),n}return(0,b.default)(e,t),(0,m.default)(e,[{key:"PTZ",get:function(){return this.ptz_},set:function(t){this.ptz_=!!t}}]),(0,m.default)(e,[{key:"dispose",value:function(){(0,y.default)(e.prototype.__proto__||(0,l.default)(e.prototype),"dispose",this).call(this)}},{key:"onZoom",value:function(t){if(this.PTZ){var e=this.frameWidth,n=this.frameHeight,r=Math.sqrt(e*e+n*n);this.zoom(t.delta/r)}}},{key:"onPan",value:function(t){this.PTZ&&this.rotate(90*t.deltaX/this.frameWidth,90*t.deltaY/this.frameHeight)}}]),e}(U),r(u.prototype,"PTZ",[T.default],(0,s.default)(u.prototype,"PTZ"),u.prototype),r(u.prototype,"PTZ",[T.default],(0,s.default)(u.prototype,"PTZ"),u.prototype),r(u.prototype,"onZoom",[o],(0,s.default)(u.prototype,"onZoom"),u.prototype),r(u.prototype,"onPan",[i],(0,s.default)(u.prototype,"onPan"),u.prototype),u);exports.default=B},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if("function"==typeof t)return t;if(t&&t.length){if(x(t)){var e=t.substring(1);return function(t){return t.event.target.classList.contains(e)}}if(b(t)){var n=t.substring(1);return function(t){return t.event.target.id===n}}return function(e){return e.event.target.matches(t)}}return function(t){return!0}}Object.defineProperty(exports,"__esModule",{value:!0});var o=e(1),i=n(o),u=e(0),a=n(u),s=e(3),f=n(s),l=e(13),c=n(l),p=e(2),d=n(p),h=e(4),v=n(h),y=e(86),_=n(y),m=_.default,g=function(t){return!["scroll","focus","blur"].includes(t)},b=function(t){return t.startsWith("#")&&!/[ >,]/.test(t)},x=function(t){return t.startsWith(".")&&!/[ >,]/.test(t)};exports.default=function(t){return function(t){function e(){var t;(0,a.default)(this,e);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var u=(0,f.default)(this,(t=e.__proto__||(0,i.default)(e)).call.apply(t,[this].concat(r)));return u.plugins_={},u.cb_=function(t){return u.trigger({type:"dom:"+t.type,event:t},!0)},u.counter_={},u}return(0,v.default)(e,t),(0,d.default)(e,[{key:"el",get:function(){return this.el_}}]),(0,d.default)(e,[{key:"dispose",value:function(){var t=this,n=this.el,r=this.cb_,o=this.counter_,u=function(e){var o=t.plugins_[e];o&&o.unrecognize(t),n.removeEventListener(e,r,g(e))};m(o).forEach(function(t){return o[t]&&u(t)}),this.plugins_=this.el_=this.cb_=this.counter_=null,(0,c.default)(e.prototype.__proto__||(0,i.default)(e.prototype),"dispose",this).call(this)}},{key:"installPlugin",value:function(t){this.plugins_[t.eventType]=t}},{key:"initDelegate",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.el_=t,n.forEach(function(t){var n=t.type,r=t.selector,o=t.callback;e.on$(n,r,o.bind(e))})}},{key:"initDecoratedDelegate",value:function(t){this.initDelegate(t,this.constructor.prototype.__decorated_callbacks__||[])}},{key:"on$",value:function(t,e,n){var o=r(e),i=this.recognize(t).on("dom:"+t,function(t){return o(t)&&n(t.event)});return function(e){return i().unrecognize(t)}}},{key:"recognize",value:function(t){var e=this.counter_[t];if(!e){var n=this.plugins_[t];n&&n.recognize(this),this.el_.addEventListener(t,this.cb_,g(t))}return this.counter_[t]=(e||0)+1,this}},{key:"unrecognize",value:function(t){var e=this.counter_[t];if(1===e){var n=this.plugins_[t];n&&n.unrecognize(this),this.el_.removeEventListener(t,this.cb_,g(t))}return this.counter_[t]=e?e-1:0,this}}]),e}(t)}},function(t,exports,e){e(219),t.exports=e(9).Object.keys},function(t,exports,e){var n=e(46),r=e(38);e(71)("keys",function(){return function(t){return r(n(t))}})},function(t,exports,e){"use strict";function n(t,e){return function(n,r,o){if(o.get||o.set)throw new TypeError("Property "+r+" should NOT be decorated by @callback.");var i=o.value;return(n.__decorated_callbacks__=n.__decorated_callbacks__||[]).push({type:t,selector:e,callback:i}),o}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r,o=e(0),i=n(o),u=e(40),a=n(u),s=(0,a.default)(r=function t(){(0,i.default)(this,t)})||r;exports.default=s},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,r,o){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Object.defineProperty(exports,"__esModule",{value:!0});var o=e(5),i=n(o),u=e(223),a=n(u),s=e(1),f=n(s),l=e(0),c=n(l),p=e(3),d=n(p),h=e(13),v=n(h),y=e(2),_=n(y),m=e(4),g=n(m),b=e(238),x=n(b),w=e(86),O=n(w),j=e(30),P=n(j),T=e(18),k=n(T),M=e(6),E=n(M),z=e(41),L=n(z),A=e(250),C=e(8),N=n(C),R=e(15),S=n(R),I=e(127),F=n(I),D=P.default,V=O.default,U=Array.isArray,B=new L.default("litchy/mixin/Eventable"),W=x.default;exports.default=function(t){var e;return e=function(t){function e(){var t;(0,c.default)(this,e);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=(0,d.default)(this,(t=e.__proto__||(0,f.default)(e)).call.apply(t,[this].concat(r)));return i.initEventable(),i}return(0,g.default)(e,t),(0,_.default)(e,[{key:"eventPaused",get:function(){return this.initEventable(),this.eventPaused_}}]),(0,_.default)(e,[{key:"dispose",value:function(){this.eventQueue_=null,this.emap_=null,(0,v.default)(e.prototype.__proto__||(0,f.default)(e.prototype),"dispose",this).call(this)}},{key:"on",value:function(t,e){var n=this;if((0,E.default)(t,"type").is("string","array"),(0,E.default)(e,"callback").isFunction(),this.initEventable(),U(t)){var r=t.map(function(t){return n.on(t,e)});return function(t){return r.forEach(function(t){return t()})}}B.debug("Eventable.on, type="+t+", callback = "+e.name+".");var o=this.emap_[t]||(this.emap_[t]={}),i=W++;return o[i]=e,function(e){return delete n.emap_[t][i]}}},{key:"trigger",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,E.default)(t,"event").is("object","string"),this.initEventable();var r=(0,k.default)(t)?{type:t}:t;if(B.debug("Triggering event: "+r.type,r),this.eventQueue_.push(r),(0,A.macroTask)(function(t){var n=e.eventQueue_;n.length&&(e.doAfterEvents(n),e.eventQueue_=[])})(),this.eventPaused)return B.debug("Event paused, current event("+r.type+") would NOT invoke callbacks.",r),a.default.resolve(r);var o=D({},this.emap_[r.type],this.emap_["*"]);return V(o).length?n?this.invoke(r,o):new a.default(function(t,n){(0,A.microTask)(function(r){return e.invoke(r,o).then(function(e){return t(e)}).catch(function(t){return n(t)})})(r)}):(B.debug("No callback on "+r.type+".",r),a.default.resolve(r))}},{key:"pauseEvent",value:function(){this.initEventable(),this.eventPaused_=!0}},{key:"resumeEvent",value:function(){this.initEventable(),this.eventPaused_=!1}},{key:"afterEvents",value:function(t){B.debug("Eventable.afterEvents",t)}},{key:"initEventable",value:function(){this.emap_||(this.emap_={},this.eventQueue_=[],this.eventPaused_=!1)}},{key:"doAfterEvents",value:function(t){if(this.disposed)return void B.debug("Object has been disposed, doAfterEvents return.");this.afterEvents(t)}},{key:"invoke",value:function(t,e){var n=D({target:this},t);if(this.disposed)return B.warn("Object has been disposed, invoke return."),a.default.resolve(n);try{V(e).forEach(function(t){return e[t](n)})}catch(t){return B.error("Exception thrown in event callback: "+t+"."),a.default.reject(t)}return a.default.resolve(n)}}]),e}((0,S.default)(t).with(F.default)),r(e.prototype,"eventPaused",[N.default],(0,i.default)(e.prototype,"eventPaused"),e.prototype),r(e.prototype,"on",[N.default],(0,i.default)(e.prototype,"on"),e.prototype),r(e.prototype,"trigger",[N.default],(0,i.default)(e.prototype,"trigger"),e.prototype),r(e.prototype,"pauseEvent",[N.default],(0,i.default)(e.prototype,"pauseEvent"),e.prototype),r(e.prototype,"resumeEvent",[N.default],(0,i.default)(e.prototype,"resumeEvent"),e.prototype),r(e.prototype,"afterEvents",[N.default],(0,i.default)(e.prototype,"afterEvents"),e.prototype),e}},function(t,exports,e){t.exports={default:e(224),__esModule:!0}},function(t,exports,e){e(104),e(96),e(102),e(225),e(236),e(237),t.exports=e(9).Promise},function(t,exports,e){"use strict";var n,r,o,i,u=e(48),a=e(11),s=e(36),f=e(116),l=e(14),c=e(20),p=e(45),d=e(226),h=e(227),v=e(117),y=e(118).set,_=e(232)(),m=e(87),g=e(119),b=e(120),x=a.TypeError,w=a.process,O=a.Promise,j="process"==f(w),P=function(){},T=r=m.f,k=!!function(){try{var t=O.resolve(1),n=(t.constructor={})[e(12)("species")]=function(t){t(P,P)};return(j||"function"==typeof PromiseRejectionEvent)&&t.then(P)instanceof n}catch(t){}}(),M=function(t){var e;return!(!c(t)||"function"!=typeof(e=t.then))&&e},E=function(t,e){if(!t._n){t._n=!0;var n=t._c;_(function(){for(var r=t._v,o=1==t._s,i=0;n.length>i;)!function(e){var n,i,u=o?e.ok:e.fail,a=e.resolve,s=e.reject,f=e.domain;try{u?(o||(2==t._h&&A(t),t._h=1),!0===u?n=r:(f&&f.enter(),n=u(r),f&&f.exit()),n===e.promise?s(x("Promise-chain cycle")):(i=M(n))?i.call(n,a,s):a(n)):s(r)}catch(t){s(t)}}(n[i++]);t._c=[],t._n=!1,e&&!t._h&&z(t)})}},z=function(t){y.call(a,function(){var e,n,r,o=t._v,i=L(t);if(i&&(e=g(function(){j?w.emit("unhandledRejection",o,t):(n=a.onunhandledrejection)?n({promise:t,reason:o}):(r=a.console)&&r.error&&r.error("Unhandled promise rejection",o)}),t._h=j||L(t)?2:1),t._a=void 0,i&&e.e)throw e.v})},L=function(t){return 1!==t._h&&0===(t._a||t._c).length},A=function(t){y.call(a,function(){var e;j?w.emit("rejectionHandled",t):(e=a.onrejectionhandled)&&e({promise:t,reason:t._v})})},C=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),E(e,!0))},N=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw x("Promise can't be resolved itself");(e=M(t))?_(function(){var r={_w:n,_d:!1};try{e.call(t,s(N,r,1),s(C,r,1))}catch(t){C.call(r,t)}}):(n._v=t,n._s=1,E(n,!1))}catch(t){C.call({_w:n,_d:!1},t)}}};k||(O=function(t){d(this,O,"Promise","_h"),p(t),n.call(this);try{t(s(N,this,1),s(C,this,1))}catch(t){C.call(this,t)}},n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=e(233)(O.prototype,{then:function(t,e){var n=T(v(this,O));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=j?w.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&E(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new n;this.promise=t,this.resolve=s(N,t,1),this.reject=s(C,t,1)},m.f=T=function(t){return t===O||t===i?new o(t):r(t)}),l(l.G+l.W+l.F*!k,{Promise:O}),e(49)(O,"Promise"),e(234)("Promise"),i=e(9).Promise,l(l.S+l.F*!k,"Promise",{reject:function(t){var e=T(this);return(0,e.reject)(t),e.promise}}),l(l.S+l.F*(u||!k),"Promise",{resolve:function(t){return b(u&&this===i?O:this,t)}}),l(l.S+l.F*!(k&&e(235)(function(t){O.all(t).catch(P)})),"Promise",{all:function(t){var e=this,n=T(e),r=n.resolve,o=n.reject,i=g(function(){var n=[],i=0,u=1;h(t,!1,function(t){var a=i++,s=!1;n.push(void 0),u++,e.resolve(t).then(function(t){s||(s=!0,n[a]=t,--u||r(n))},o)}),--u||r(n)});return i.e&&o(i.v),n.promise},race:function(t){var e=this,n=T(e),r=n.reject,o=g(function(){h(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(t,exports){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,exports,e){var n=e(36),r=e(228),o=e(229),i=e(19),u=e(100),a=e(230),s={},f={},exports=t.exports=function(t,e,l,c,p){var d,h,v,y,_=p?function(){return t}:a(t),m=n(l,c,e?2:1),g=0;if("function"!=typeof _)throw TypeError(t+" is not iterable!");if(o(_)){for(d=u(t.length);d>g;g++)if((y=e?m(i(h=t[g])[0],h[1]):m(t[g]))===s||y===f)return y}else for(v=_.call(t);!(h=v.next()).done;)if((y=r(v,m,h.value,e))===s||y===f)return y};exports.BREAK=s,exports.RETURN=f},function(t,exports,e){var n=e(19);t.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(e){var i=t.return;throw void 0!==i&&n(i.call(t)),e}}},function(t,exports,e){var n=e(37),r=e(12)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[r]===t)}},function(t,exports,e){var n=e(116),r=e(12)("iterator"),o=e(37);t.exports=e(9).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[n(t)]}},function(t,exports){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,exports,e){var n=e(11),r=e(118).set,o=n.MutationObserver||n.WebKitMutationObserver,i=n.process,u=n.Promise,a="process"==e(35)(i);t.exports=function(){var t,e,s,f=function(){var n,r;for(a&&(n=i.domain)&&n.exit();t;){r=t.fn,t=t.next;try{r()}catch(n){throw t?s():e=void 0,n}}e=void 0,n&&n.enter()};if(a)s=function(){i.nextTick(f)};else if(!o||n.navigator&&n.navigator.standalone)if(u&&u.resolve){var l=u.resolve();s=function(){l.then(f)}}else s=function(){r.call(n,f)};else{var c=!0,p=document.createTextNode("");new o(f).observe(p,{characterData:!0}),s=function(){p.data=c=!c}}return function(n){var r={fn:n,next:void 0};e&&(e.next=r),t||(t=r,s()),e=r}}},function(t,exports,e){var n=e(26);t.exports=function(t,e,r){for(var o in e)r&&t[o]?t[o]=e[o]:n(t,o,e[o]);return t}},function(t,exports,e){"use strict";var n=e(11),r=e(9),o=e(22),i=e(21),u=e(12)("species");t.exports=function(t){var e="function"==typeof r[t]?r[t]:n[t];i&&e&&!e[u]&&o.f(e,u,{configurable:!0,get:function(){return this}})}},function(t,exports,e){var n=e(12)("iterator"),r=!1;try{var o=[7][n]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var o=!1;try{var i=[7],u=i[n]();u.next=function(){return{done:o=!0}},i[n]=function(){return u},t(i)}catch(t){}return o}},function(t,exports,e){"use strict";var n=e(14),r=e(9),o=e(11),i=e(117),u=e(120);n(n.P+n.R,"Promise",{finally:function(t){var e=i(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return u(e,t()).then(function(){return n})}:t,n?function(n){return u(e,t()).then(function(){throw n})}:t)}})},function(t,exports,e){"use strict";var n=e(14),r=e(87),o=e(119);n(n.S,"Promise",{try:function(t){var e=r.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,exports,e){t.exports={default:e(239),__esModule:!0}},function(t,exports,e){e(240),t.exports=-9007199254740991},function(t,exports,e){var n=e(14);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=e(242),a=n(u),s=e(18),f=n(s),l=e(57),c=n(l),p=e(83),d=n(p),h=e(88),v=e(122),y=n(v),_=e(123),m=n(_),g=function(t){return!t.location||!!t.ActiveXObject}(m.default),b=y.default["chivy-context-flags"],x=g||!b.includes("color"),w=!b.includes("time"),O=!b.includes("module"),j=!b.includes("level"),P={level:function(t){return"color: #FFF; background:"+({DEBUG:"#3CABDB",INFO:"#167FFC",WARN:"#595BD4",ERROR:"#FD3259"}[t]||"#3CABDB")+";"},module:function(t){return"color: #6C6B47;"},time:function(t){return"color: #6C6B47;"},content:function(t){return"color: #0C0C0C;"}},T=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;o(this,t),this.cstyles_=e}return i(t,null,[{key:"transLevel",value:function(t){return{DEBUG:"DBG",INFO:"INF",WARN:"WRN",ERROR:"ERR"}[t]||"???"}},{key:"getLogByLevel",value:function(t){return"DEBUG"===t?console.debug.bind(console):"INFO"===t?console.info.bind(console):"WARN"===t?console.warn.bind(console):"ERROR"===t?console.error.bind(console):console.log.bind(console)}}]),i(t,[{key:"log",value:function(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];x?this.monochromatically.apply(this,[t,e].concat(r)):this.colorfully.apply(this,[t,e].concat(r))}},{key:"colorfully",value:function(e,n){for(var o=(0,h.anything2LevelString)(e)||""+e,i=t.transLevel(o),u=(0,a.default)(new Date,"HH:mm:ss:l"),s=arguments.length,l=Array(s>2?s-2:0),p=2;p<s;p++)l[p-2]=arguments[p];var v=l[0],y=[],_=[];j||(y.push("%c "+i),_.push(this.cstyles_.level(o))),O||(y.push("%c "+n),_.push(this.cstyles_.module(n))),w||(y.push("%c "+u),_.push(this.cstyles_.time(u)));var m=console.log.bind(console);1===l.length&&((0,f.default)(v)||(0,c.default)(v)||(0,d.default)(v))?m.apply(void 0,[y.join(" ")+"%c - "+v].concat(r(_.concat([this.cstyles_.content(v)])))):(m.apply(void 0,[y.join(" ")+" ----"].concat(_)),m.apply(void 0,l))}},{key:"monochromatically",value:function(e,n){for(var r=(0,h.anything2LevelString)(e)||""+e,o=t.transLevel(r),i=(0,a.default)(new Date,"HH:mm:ss:l"),u=arguments.length,s=Array(u>2?u-2:0),l=2;l<u;l++)s[l-2]=arguments[l];var p=s[0],v=[];j||v.push("["+o+"]"),O||v.push("["+n+"]"),w||v.push("["+i+"]");var y=t.getLogByLevel(r);1===s.length&&((0,f.default)(p)||(0,c.default)(p)||(0,d.default)(p))?y(v.join(" ")+" - "+p):(y(""+v.join(" ")),y.apply(void 0,s))}}]),t}();exports.default=T},function(t,exports,e){var n;!function(r){"use strict";function o(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}function i(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);var n=new Date(e.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=e.getTimezoneOffset()-n.getTimezoneOffset();e.setHours(e.getHours()-r);var o=(e-n)/6048e5;return 1+Math.floor(o)}function u(t){var e=t.getDay();return 0===e&&(e=7),e}function a(t){return null===t?"null":void 0===t?"undefined":"object"!=typeof t?typeof t:Array.isArray(t)?"array":{}.toString.call(t).slice(8,-1).toLowerCase()}var s=function(){var t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'|'[^']*'/g,e=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g;return function(r,f,l,c){if(1!==arguments.length||"string"!==a(r)||/\d/.test(r)||(f=r,r=void 0),r=r||new Date,r instanceof Date||(r=new Date(r)),isNaN(r))throw TypeError("Invalid date");f=String(s.masks[f]||f||s.masks.default);var p=f.slice(0,4);"UTC:"!==p&&"GMT:"!==p||(f=f.slice(4),l=!0,"GMT:"===p&&(c=!0));var d=l?"getUTC":"get",h=r[d+"Date"](),v=r[d+"Day"](),y=r[d+"Month"](),_=r[d+"FullYear"](),m=r[d+"Hours"](),g=r[d+"Minutes"](),b=r[d+"Seconds"](),x=r[d+"Milliseconds"](),w=l?0:r.getTimezoneOffset(),O=i(r),j=u(r),P={d:h,dd:o(h),ddd:s.i18n.dayNames[v],dddd:s.i18n.dayNames[v+7],m:y+1,mm:o(y+1),mmm:s.i18n.monthNames[y],mmmm:s.i18n.monthNames[y+12],yy:String(_).slice(2),yyyy:_,h:m%12||12,hh:o(m%12||12),H:m,HH:o(m),M:g,MM:o(g),s:b,ss:o(b),l:o(x,3),L:o(Math.round(x/10)),t:m<12?"a":"p",tt:m<12?"am":"pm",T:m<12?"A":"P",TT:m<12?"AM":"PM",Z:c?"GMT":l?"UTC":(String(r).match(e)||[""]).pop().replace(n,""),o:(w>0?"-":"+")+o(100*Math.floor(Math.abs(w)/60)+Math.abs(w)%60,4),S:["th","st","nd","rd"][h%10>3?0:(h%100-h%10!=10)*h%10],W:O,N:j};return f.replace(t,function(t){return t in P?P[t]:t.slice(1,t.length-1)})}}();s.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},s.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},void 0!==(n=function(){return s}.call(exports,e,exports,t))&&(t.exports=n)}()},function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=e(244),r=function(t){return t&&t.__esModule?t:{default:t}}(n);exports.default=r.default},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(){try{return p.default.location.search}catch(t){return""}}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"__Konph",n=t||{},o=(0,u.default)(e),i=(o?p.default[e]:e.global)||{},a=(o?r():e.url)||"",f=new s.default(i,a,n);return Object.keys(n).map(function(t){return t.trim().toLowerCase()}).map(function(t){return{key:t,value:f.item(t)}}).reduce(function(t,e){return t[e.key]=e.value,t},{})}Object.defineProperty(exports,"__esModule",{value:!0});var i=e(18),u=n(i),a=e(245),s=n(a),f=e(247),l=n(f),c=e(248),p=n(c);o.helper=l.default,o.private=function(t){return{__konph_private_item__:!0,value:t}},exports.default=o},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=e(85),a=n(u),s=e(27),f=n(s),l=e(17),c=n(l),p=e(246),d=n(p),h=function(){function t(e,n,i){var u=this;r(this,t),this.globalConf_=e,this.urlConf_=(0,d.default)(n),this.options_=i;var a=this.cache_=Object.create(null),s=this.fitContext_=Object.create(null);Object.keys(i).forEach(function(t){var e=t.trim().toLowerCase();a[e]=o,Object.defineProperty(s,e,{get:function(t){return u.item(e)}})})}return i(t,[{key:"item",value:function(t){var e=this,n=t.trim().toLowerCase(),r=this.cache_[n];if(r!==o)return r;var i=this.options_[n];if(!i)throw new Error("Bad key: "+n+".");if(i.__konph_private_item__)return i.value;var u=i.def,s=i.defaultValue,l=i.fit,p=i.deps,d=this.urlConf_[n];if((0,a.default)(d)&&(d=this.globalConf_[n]),(0,a.default)(d)&&(d=u||s),(0,f.default)(l)){var h=[];(0,c.default)(p)&&p.length&&(h=p.map(function(t){return e.item(t)})),d=h.length?l.apply(this.fitContext_,[d].concat(h)):l.apply(this.fitContext_,[d].concat([this.fitContext_]))}return this.cache_[n]=d,d}}]),t}();exports.default=h},function(t,exports,e){"use strict";function n(t){return t.replace(/^\?/,"").split("&").map(function(t){var e=t.split("=",2),n=r(e,2),o=n[0],i=n[1];if(o=o.trim().toLowerCase(),o.length)return i=decodeURIComponent(i||"").trim(),{key:o,value:i}}).filter(function(t){return!!t}).reduce(function(t,e){return t[e.key]=e.value,t},{})}Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.default=n},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var r=e(18),o=n(r),i=e(57),u=n(i),a=e(83),s=n(a),f=e(17),l=n(f),c=e(85),p=n(c),d={fit:{boolean:function(t){return"false"!==t&&"0"!==t&&!!t},number:function(t){if((0,o.default)(t))try{return parseFloat(t)}catch(e){return console.warn(t+" is NOT a number."),NaN}return(0,u.default)(t)?t:(0,s.default)(t)?t+0:NaN},array:function(t){if((0,l.default)(t))return t;if((0,p.default)(t))return[];if((0,o.default)(t)){return t.trim().replace(/^\[/,"").replace(/\]$/,"").trim().split(",").map(function(t){return t.trim()}).filter(function(t){return""!==t})}return[t]}}};d.fit.bool=d.fit.boolean,exports.default=d},function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=new Function("return this");exports.default=n()},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=e(125),o=n(r),i=e(121),u=n(i),a=e(123),s=n(a),f=s.default.__chivyFilters||(s.default.__chivyFilters=[]);s.default.__chivyFilters=f.concat([o.default]),s.default.chivyon||(s.default.chivyon=function(t){s.default.__chivyFilters.forEach(function(e){return e.on(t)})}),s.default.chivyoff||(s.default.chivyoff=function(t){s.default.__chivyFilters.forEach(function(e){return e.off(t)})}),s.default.chivylevel||(s.default.chivylevel=function(t){s.default.__chivyFilters.forEach(function(e){return e.setLevel(t)})}),s.default.chivy||(s.default.chivy=function(){var t=new u.default;t.print.apply(t,arguments)})},function(t,exports,e){"use strict";(function(t,n){function r(t){return function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return n(function(e){return t.apply(void 0,r)})}}function o(t){return a?function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return setTimeout(function(e){setTimeout(function(e){return t.apply(void 0,n)},0)},0)}:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return setTimeout(function(e){return t.apply(void 0,n)},0)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.microTask=r,exports.macroTask=o,e(126);var i="undefined"==typeof self?void 0===t?void 0:t:self,u=i.document,a=!0;("[object process]"==={}.toString.call(t.process)||function(){if(i.postMessage&&!i.importScripts){var t=!0,e=i.onmessage;return i.onmessage=function(){t=!1},i.postMessage("","*"),i.onmessage=e,t}}()||i.MessageChannel||u&&"onreadystatechange"in u.createElement("script"))&&(a=!1)}).call(exports,e(81),e(251).setImmediate)},function(t,exports,e){function n(t,e){this._id=t,this._clearFn=e}var r=Function.prototype.apply;exports.setTimeout=function(){return new n(r.call(setTimeout,window,arguments),clearTimeout)},exports.setInterval=function(){return new n(r.call(setInterval,window,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},exports.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},exports.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},exports._unrefActive=exports.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e(126),exports.setImmediate=setImmediate,exports.clearImmediate=clearImmediate},function(t,exports){function e(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(t){if(f===setTimeout)return setTimeout(t,0);if((f===e||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function o(t){if(l===clearTimeout)return clearTimeout(t);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function i(){h&&p&&(h=!1,p.length?d=p.concat(d):v=-1,d.length&&u())}function u(){if(!h){var t=r(i);h=!0;for(var e=d.length;e;){for(p=d,d=[];++v<e;)p&&p[v].run();v=-1,e=d.length}p=null,h=!1,o(t)}}function a(t,e){this.fun=t,this.array=e}function s(){}var f,l,c=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:e}catch(t){f=e}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(t){l=n}}();var p,d=[],h=!1,v=-1;c.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new a(t,e)),1!==d.length||h||r(u)},a.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=s,c.addListener=s,c.once=s,c.off=s,c.removeListener=s,c.removeAllListeners=s,c.emit=s,c.prependListener=s,c.prependOnceListener=s,c.listeners=function(t){return[]},c.binding=function(t){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(t){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,r,o){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Object.defineProperty(exports,"__esModule",{value:!0});var o=e(5),i=n(o),u=e(1),a=n(u),s=e(0),f=n(s),l=e(2),c=n(l),p=e(3),d=n(p),h=e(13),v=n(h),y=e(4),_=n(y),m=e(6),g=n(m),b=e(41),x=n(b),w=e(8),O=n(w),j=e(33),P=n(j),T=e(90),k=n(T),M=e(314),E=n(M),z=e(319),L=n(z),A=e(58),C=n(A),N=new x.default("pano.gl/core/RenderFlow");exports.default=function(t){var e;return e=function(t){function e(){return(0,f.default)(this,e),(0,d.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,_.default)(e,t),(0,c.default)(e,[{key:"initRenderFlow",value:function(t){var e=this;t=(0,C.default)(t),(0,g.default)(t,"el").isElement(),this.renderer_=new E.default(t);var n=this.driver_=new L.default;n.on("frame",this.renderFrame.bind(this)),n.start();var r=this.wrapResizeCallback_=function(t){e.camera_.aspect&&(e.camera_.aspect=e.el_.clientWidth/e.el_.clientHeight)};window.addEventListener("resize",r)}},{key:"dispose",value:function(){window.removeEventLstener("resize",this.wrapResizeCallback_),this.driver_.dispose(),this.driver_=null,this.renderer_.dispose(),this.renderer_=null,this.texture_&&(this.texture_.dispose(),this.texture_=null),this.camera_&&(this.camera_=null),(0,v.default)(e.prototype.__proto__||(0,a.default)(e.prototype),"dispose",this).call(this)}},{key:"setCamera",value:function(t){return(0,g.default)(t,"camera").instanceOf(P.default),this.camera_=t,this}},{key:"setTexture",value:function(t){return(0,g.default)(t,"texture").instanceOf(k.default),this.texture_&&this.texture_.dispose(),this.texture_=t,this}},{key:"rotate",value:function(t,e){var n=this.camera;return n&&(n.rotate(t,e),this.trigger({type:"rotate",lat:t,lng:e}),N.debug("rotate, camera.povLatitude = "+n.povLatitude+", camera.povLongitude = "+n.povLongitude+".")),this}},{key:"zoom",value:function(t){return this.camera_&&(this.camera_.zoom(t),this.trigger({type:"zoom",delta:t})),this}},{key:"renderFrame",value:function(){this.renderer_.render(this.camera_,this.texture_)}},{key:"frameId",get:function(){return this.renderer_.frameId}},{key:"frameWidth",get:function(){return this.renderer_.frameWidth}},{key:"frameHeight",get:function(){return this.renderer_.frameHeight}},{key:"frameRate",get:function(){return this.renderer_.frameRate}},{key:"updateRate",get:function(){return this.renderer_.updateRate}},{key:"camera",get:function(){return this.camera_}},{key:"texture",get:function(){return this.texture_}}]),e}(t),r(e.prototype,"frameId",[O.default],(0,i.default)(e.prototype,"frameId"),e.prototype),r(e.prototype,"frameWidth",[O.default],(0,i.default)(e.prototype,"frameWidth"),e.prototype),r(e.prototype,"frameHeight",[O.default],(0,i.default)(e.prototype,"frameHeight"),e.prototype),r(e.prototype,"frameRate",[O.default],(0,i.default)(e.prototype,"frameRate"),e.prototype),r(e.prototype,"updateRate",[O.default],(0,i.default)(e.prototype,"updateRate"),e.prototype),r(e.prototype,"camera",[O.default],(0,i.default)(e.prototype,"camera"),e.prototype),r(e.prototype,"texture",[O.default],(0,i.default)(e.prototype,"texture"),e.prototype),r(e.prototype,"setCamera",[O.default],(0,i.default)(e.prototype,"setCamera"),e.prototype),r(e.prototype,"setTexture",[O.default],(0,i.default)(e.prototype,"setTexture"),e.prototype),r(e.prototype,"rotate",[O.default],(0,i.default)(e.prototype,"rotate"),e.prototype),r(e.prototype,"zoom",[O.default],(0,i.default)(e.prototype,"zoom"),e.prototype),e}},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){return function(t){function e(){var t;(0,a.default)(this,e);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var u=(0,f.default)(this,(t=e.__proto__||(0,i.default)(e)).call.apply(t,[this].concat(r)));return u.initId(),u}return(0,c.default)(e,t),e}((0,d.default)(t).with(v.default))}Object.defineProperty(exports,"__esModule",{value:!0});var o=e(1),i=n(o),u=e(0),a=n(u),s=e(3),f=n(s),l=e(4),c=n(l);exports.default=r;var p=e(15),d=n(p),h=e(255),v=n(h)},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return t.apply(e,r||[])}}Object.defineProperty(exports,"__esModule",{value:!0});var o=e(1),i=n(o),u=e(0),a=n(u),s=e(3),f=n(s),l=e(2),c=n(l),p=e(4),d=n(p),h=e(89),v=n(h),y=e(6),_=n(y),m=e(41),g=n(m),b=e(18),x=n(b),w=new g.default("litchy/mixin/HasId");exports.default=function(t){return function(t){function e(){var t;(0,a.default)(this,e);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var u=(0,f.default)(this,(t=e.__proto__||(0,i.default)(e)).call.apply(t,[this].concat(r)));return u.id_=null,u}return(0,d.default)(e,t),(0,c.default)(e,[{key:"id",get:function(){return this.id_}}]),(0,c.default)(e,[{key:"initId",value:function(t){if((0,x.default)(t))return(0,_.default)(t.length,"id.length").gt(0),this.id_=t,w.debug("External id: "+t+"."),t;var e=this.mapRawId((0,v.default)());return this.id_=e,w.debug("Generated id: "+e+"."),e}},{key:"changeId",value:function(t){if((0,_.default)(t,"id").isString().got("length").gt(0),w.warn("Changing id is DANGEROUS, "+this.id+" -> "+t+"."),this.id!==t){r(this.trigger,this,{type:"id-change",id:t,prevId:this.id});var e=this.id;return this.id_=t,e}}},{key:"mapRawId",value:function(t){return t}}]),e}(t)}},function(t,exports,e){"use strict";function n(e){return u.seed(e),t.exports}function r(e){return l=e,t.exports}function o(t){return void 0!==t&&u.characters(t),u.shuffled()}function i(){return s(l)}var u=e(60),a=(e(128),e(259)),s=e(260),f=e(261),l=e(262)||0;t.exports=i,t.exports.generate=i,t.exports.seed=n,t.exports.worker=r,t.exports.characters=o,t.exports.decode=a,t.exports.isValid=f},function(t,exports,e){"use strict";function n(){return(o=(9301*o+49297)%233280)/233280}function r(t){o=t}var o=1;t.exports={nextValue:n,seed:r}},function(t,exports,e){"use strict";function n(){if(!r||!r.getRandomValues)return 48&Math.floor(256*Math.random());var t=new Uint8Array(1);return r.getRandomValues(t),48&t[0]}var r="object"==typeof window&&(window.crypto||window.msCrypto);t.exports=n},function(t,exports,e){"use strict";function n(t){var e=r.shuffled();return{version:15&e.indexOf(t.substr(0,1)),worker:15&e.indexOf(t.substr(1,1))}}var r=e(60);t.exports=n},function(t,exports,e){"use strict";function n(t){var e="",n=Math.floor(.001*(Date.now()-a));return n===o?r++:(r=0,o=n),e+=i(u.lookup,s),e+=i(u.lookup,t),r>0&&(e+=i(u.lookup,r)),e+=i(u.lookup,n)}var r,o,i=e(128),u=e(60),a=1459707606518,s=6;t.exports=n},function(t,exports,e){"use strict";function n(t){if(!t||"string"!=typeof t||t.length<6)return!1;for(var e=r.characters(),n=t.length,o=0;o<n;o++)if(-1===e.indexOf(t[o]))return!1;return!0}var r=e(60);t.exports=n},function(t,exports,e){"use strict";t.exports=0},function(t,exports,e){function n(t,e,f,l,c){t!==e&&i(e,function(i,s){if(a(i))c||(c=new r),u(t,e,s,f,n,l,c);else{var p=l?l(t[s],i,s+"",t,e,c):void 0;void 0===p&&(p=i),o(t,s,p)}},s)}var r=e(264),o=e(130),i=e(288),u=e(290),a=e(23),s=e(132);t.exports=n},function(t,exports,e){function n(t){var e=this.__data__=new r(t);this.size=e.size}var r=e(61),o=e(270),i=e(271),u=e(272),a=e(273),s=e(274);n.prototype.clear=o,n.prototype.delete=i,n.prototype.get=u,n.prototype.has=a,n.prototype.set=s,t.exports=n},function(t,exports){function e(){this.__data__=[],this.size=0}t.exports=e},function(t,exports,e){function n(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}var r=e(62),o=Array.prototype,i=o.splice;t.exports=n},function(t,exports,e){function n(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}var r=e(62);t.exports=n},function(t,exports,e){function n(t){return r(this.__data__,t)>-1}var r=e(62);t.exports=n},function(t,exports,e){function n(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}var r=e(62);t.exports=n},function(t,exports,e){function n(){this.__data__=new r,this.size=0}var r=e(61);t.exports=n},function(t,exports){function e(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}t.exports=e},function(t,exports){function e(t){return this.__data__.get(t)}t.exports=e},function(t,exports){function e(t){return this.__data__.has(t)}t.exports=e},function(t,exports,e){function n(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<u-1)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(t,e),this.size=n.size,this}var r=e(61),o=e(84),i=e(275),u=200;t.exports=n},function(t,exports,e){function n(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var r=e(276),o=e(283),i=e(285),u=e(286),a=e(287);n.prototype.clear=r,n.prototype.delete=o,n.prototype.get=i,n.prototype.has=u,n.prototype.set=a,t.exports=n},function(t,exports,e){function n(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}var r=e(277),o=e(61),i=e(84);t.exports=n},function(t,exports,e){function n(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var r=e(278),o=e(279),i=e(280),u=e(281),a=e(282);n.prototype.clear=r,n.prototype.delete=o,n.prototype.get=i,n.prototype.has=u,n.prototype.set=a,t.exports=n},function(t,exports,e){function n(){this.__data__=r?r(null):{},this.size=0}var r=e(64);t.exports=n},function(t,exports){function e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=e},function(t,exports,e){function n(t){var e=this.__data__;if(r){var n=e[t];return n===o?void 0:n}return u.call(e,t)?e[t]:void 0}var r=e(64),o="__lodash_hash_undefined__",i=Object.prototype,u=i.hasOwnProperty;t.exports=n},function(t,exports,e){function n(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}var r=e(64),o=Object.prototype,i=o.hasOwnProperty;t.exports=n},function(t,exports,e){function n(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?o:e,this}var r=e(64),o="__lodash_hash_undefined__";t.exports=n},function(t,exports,e){function n(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}var r=e(65);t.exports=n},function(t,exports){function e(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=e},function(t,exports,e){function n(t){return r(this,t).get(t)}var r=e(65);t.exports=n},function(t,exports,e){function n(t){return r(this,t).has(t)}var r=e(65);t.exports=n},function(t,exports,e){function n(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}var r=e(65);t.exports=n},function(t,exports,e){var n=e(289),r=n();t.exports=r},function(t,exports){function e(t){return function(e,n,r){for(var o=-1,i=Object(e),u=r(e),a=u.length;a--;){var s=u[t?a:++o];if(!1===n(i[s],s,i))break}return e}}t.exports=e},function(t,exports,e){function n(t,e,n,_,m,g,b){var x=t[n],w=e[n],O=b.get(w);if(O)return void r(t,n,O);var j=g?g(x,w,n+"",t,e,b):void 0,P=void 0===j;if(P){var T=f(w),k=!T&&c(w),M=!T&&!k&&v(w);j=w,T||k||M?f(x)?j=x:l(x)?j=u(x):k?(P=!1,j=o(w,!0)):M?(P=!1,j=i(w,!0)):j=[]:h(w)||s(w)?(j=x,s(x)?j=y(x):(!d(x)||_&&p(x))&&(j=a(w))):P=!1}P&&(b.set(w,j),m(j,w,_,g,b),b.delete(w)),r(t,n,j)}var r=e(130),o=e(291),i=e(292),u=e(295),a=e(296),s=e(50),f=e(17),l=e(107),c=e(52),p=e(27),d=e(23),h=e(53),v=e(56),y=e(298);t.exports=n},function(t,exports,e){(function(t){function n(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}var r=e(16),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,u=i&&i.exports===o,a=u?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=n}).call(exports,e(51)(t))},function(t,exports,e){function n(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var r=e(293);t.exports=n},function(t,exports,e){function n(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}var r=e(294);t.exports=n},function(t,exports,e){var n=e(16),r=n.Uint8Array;t.exports=r},function(t,exports){function e(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=e},function(t,exports,e){function n(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}var r=e(297),o=e(109),i=e(54);t.exports=n},function(t,exports,e){var n=e(23),r=Object.create,o=function(){function t(){}return function(e){if(!n(e))return{};if(r)return r(e);t.prototype=e;var o=new t;return t.prototype=void 0,o}}();t.exports=o},function(t,exports,e){function n(t){return r(t,o(t))}var r=e(299),o=e(132);t.exports=n},function(t,exports,e){function n(t,e,n,i){var u=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var f=e[a],l=i?i(n[f],t[f],f,n,t):void 0;void 0===l&&(l=t[f]),u?o(n,f,l):r(n,f,l)}return n}var r=e(300),o=e(91);t.exports=n},function(t,exports,e){function n(t,e,n){var i=t[e];u.call(t,e)&&o(i,n)&&(void 0!==n||e in t)||r(t,e,n)}var r=e(91),o=e(63),i=Object.prototype,u=i.hasOwnProperty;t.exports=n},function(t,exports,e){function n(t,e){var n=i(t),f=!n&&o(t),c=!n&&!f&&u(t),p=!n&&!f&&!c&&s(t),d=n||f||c||p,h=d?r(t.length,String):[],v=h.length;for(var y in t)!e&&!l.call(t,y)||d&&("length"==y||c&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||a(y,v))||h.push(y);return h}var r=e(302),o=e(50),i=e(17),u=e(52),a=e(133),s=e(56),f=Object.prototype,l=f.hasOwnProperty;t.exports=n},function(t,exports){function e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=e},function(t,exports,e){function n(t){if(!r(t))return i(t);var e=o(t),n=[];for(var u in t)("constructor"!=u||!e&&a.call(t,u))&&n.push(u);return n}var r=e(23),o=e(54),i=e(304),u=Object.prototype,a=u.hasOwnProperty;t.exports=n},function(t,exports){function e(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}t.exports=e},function(t,exports,e){function n(t){return r(function(e,n){var r=-1,i=n.length,u=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(u=t.length>3&&"function"==typeof u?(i--,u):void 0,a&&o(n[0],n[1],a)&&(u=i<3?void 0:u,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,u)}return e})}var r=e(306),o=e(313);t.exports=n},function(t,exports,e){function n(t,e){return i(o(t,e,r),t+"")}var r=e(134),o=e(307),i=e(309);t.exports=n},function(t,exports,e){function n(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,u=-1,a=o(i.length-e,0),s=Array(a);++u<a;)s[u]=i[e+u];u=-1;for(var f=Array(e+1);++u<e;)f[u]=i[u];return f[e]=n(s),r(t,this,f)}}var r=e(308),o=Math.max;t.exports=n},function(t,exports){function e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=e},function(t,exports,e){var n=e(310),r=e(312),o=r(n);t.exports=o},function(t,exports,e){var n=e(311),r=e(131),o=e(134),i=r?function(t,e){return r(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:o;t.exports=i},function(t,exports){function e(t){return function(){return t}}t.exports=e},function(t,exports){function e(t){var e=0,i=0;return function(){var u=o(),a=r-(u-i);if(i=u,a>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var n=800,r=16,o=Date.now;t.exports=e},function(t,exports,e){function n(t,e,n){if(!u(n))return!1;var a=typeof e;return!!("number"==a?o(n)&&i(e,n.length):"string"==a&&e in n)&&r(n[e],t)}var r=e(63),o=e(39),i=e(133),u=e(23);t.exports=n},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,r,o){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o,i,u=e(5),a=n(u),s=e(1),f=n(s),l=e(0),c=n(l),p=e(13),d=n(p),h=e(2),v=n(h),y=e(86),_=n(y),m=e(6),g=n(m),b=e(89),x=n(b),w=e(59),O=n(w),j=e(8),P=n(j),T=e(315),k=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(T),M=e(135),E=n(M),z=e(136),L=n(z),A=e(58),C=n(A),N=e(316),R=n(N),S=_.default,I=e(317),F=e(318),D=60,V=(0,O.default)((i=function(){function t(e){(0,c.default)(this,t),e=(0,C.default)(e),(0,g.default)(e,"el").isElement(),this.prepareGL(e),this.adjustSize(),this.textureObject_=k.createTextureObject(this.gl_),this.programs_={},this.currentCameraId_=null,this.updateRate_=new E.default,this.frameRate_=new E.default,this.renderThrottle_=new L.default(D)}return(0,v.default)(t,[{key:"frameWidth",get:function(){return this.canvas_.width}},{key:"frameHeight",get:function(){return this.canvas_.height}},{key:"frameId",get:function(){return this.canvas_.getAttribute("id")}},{key:"frameRate",get:function(){return this.frameRate_.rate}},{key:"updateRate",get:function(){return this.updateRate_.rate}}]),(0,v.default)(t,[{key:"dispose",value:function(){this.renderThrottle_=null,this.frameRate_.dispose(),this.frameRate_=null,this.updateRate_.dispose(),this.updateRate_=null,this.currentCameraId_=null,this.cleanProgram(),this.gl_.deleteTexture(this.textureObject_),this.textureObject_=null,window.removeEventLstener("resize",this.wrapResizeCallback_),this.cleanGL(),(0,d.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"dispose",this).call(this)}},{key:"render",value:function(t,e){if(this.renderThrottle_.shouldRun){this.frameRate_.increment();var n=this.gl_,r=this.getProgram(),o=this.setVertexBuffer(t);n.useProgram(r);var i=t.status();S(i).forEach(function(t){var e=i[t],o=n.getUniformLocation(r,"u_"+t);if(o)return"uniformMatrix4fv"===e.type?void n[e.type](o,n.FALSE,e.value):void n[e.type](o,e.value||0)});var u=n.getUniformLocation(r,"u_TexProjType");u&&n.uniform1i(u,e.projection);var a=n.getUniformLocation(r,"u_Sampler");a&&n.uniform1i(a,0),e.update()&&(k.updateTextureObject(n,e.frame),this.updateRate_.increment()),n.clear(n.COLOR_BUFFER_BIT),n.drawArrays(n.TRIANGLES,0,o)}}},{key:"prepareGL",value:function(t){t=this.el_=t,(0,g.default)(t,"el").isElement(),t.innerHTML="";var e=this.canvas_=document.createElement("canvas");e.setAttribute("id","renderer-canvas-"+(0,x.default)()),e.setAttribute("class","renderer-canvas"),t.appendChild(e);var n=this.gl_=k.createContext(e);return n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT),n}},{key:"cleanGL",value:function(){this.gl_=null,this.canvas_=null,this.el_.innerHTML="",this.el_=null}},{key:"adjustSize",value:function(){var t=this,e=this.wrapResizeCallback_=function(e){var n=t.canvas_,r=t.el_;n.style.width=r.clientWidth+"px",n.style.height=r.clientHeight+"px",n.width=n.clientWidth,n.height=n.clientHeight,t.gl_.viewport(0,0,n.clientWidth,n.clientHeight)};window.addEventListener("resize",e),e()}},{key:"getProgram",value:function(t){var e=this.programs_,n=e.dummy;return n||(n=e.dummy=this.createProgram()),n}},{key:"createProgram",value:function(){var t=this.gl_,e=I,n=F,r=k.createShader(t,"v",e),o=k.createShader(t,"f",n);(0,R.default)(r,"Create vshader failed."),(0,R.default)(o,"Create fshader failed.");var i=k.createProgram(t,r,o);return(0,R.default)(i,"Create program failed."),i}},{key:"setVertexBuffer",value:function(t){if(t.id!==this.currentCameraId_){var e=this.programs_,n=this.gl_,r=e.dummy;this.triangleCount_=k.initVertexBuffer(n,r,t.geoVertexes),this.currentCameraId_=t.id}return this.triangleCount_}},{key:"cleanProgram",value:function(){var t=this;this.programs_.forEach(function(e){return t.gl_.deleteProgram(e)}),this.programs_={}}}]),t}(),r(i.prototype,"frameWidth",[P.default],(0,a.default)(i.prototype,"frameWidth"),i.prototype),r(i.prototype,"frameHeight",[P.default],(0,a.default)(i.prototype,"frameHeight"),i.prototype),r(i.prototype,"frameId",[P.default],(0,a.default)(i.prototype,"frameId"),i.prototype),r(i.prototype,"frameRate",[P.default],(0,a.default)(i.prototype,"frameRate"),i.prototype),r(i.prototype,"updateRate",[P.default],(0,a.default)(i.prototype,"updateRate"),i.prototype),r(i.prototype,"render",[P.default],(0,a.default)(i.prototype,"render"),i.prototype),o=i))||o;exports.default=V},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=null;return["webgl","experimental-webgl","webkit-3d","moz-webgl"].some(function(r){try{return n=t.getContext(r,e),n.enable(n.DEPTH_TEST),n.depthFunc(n.LEQUAL),!0}catch(t){return d.debug(r+" is NOT supported."),!1}}),n}function o(t,e,n){e=0===e.indexOf("v")?t.VERTEX_SHADER:t.FRAGMENT_SHADER;var r=t.createShader(e);return r?(t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(d.error("Failed compiling shader, error log: "+t.getShaderInfoLog(r)+".",n),t.deleteShader(r),null)):(d.error("Failed creating a shader."),null)}function i(t,e,n){var r=t.createProgram();return r?(t.attachShader(r,e),t.attachShader(r,n),t.linkProgram(r),t.getProgramParameter(r,t.LINK_STATUS)?(r.$id=(0,l.default)(),r):(d.error("Failed compiling shader, error log: "+t.getProgramInfoLog(r)+"."),t.deleteProgram(r),null)):(d.error("Failed creating a program."),null)}function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=new Float32Array(n),o=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,r,t.DYNAMIC_DRAW);var i=r.BYTES_PER_ELEMENT,u=t.getAttribLocation(e,"a_Pos");return t.vertexAttribPointer(u,3,t.FLOAT,!1,3*i,0),t.enableVertexAttribArray(u),n.length/3}function a(t){var e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.activeTexture(t.TEXTURE0),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),e}function s(t,e){t.texImage2D(t.TEXTURE_2D,0,t.RGB,t.RGB,t.UNSIGNED_BYTE,e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createContext=r,exports.createShader=o,exports.createProgram=i,exports.initVertexBuffer=u,exports.createTextureObject=a,exports.updateTextureObject=s;var f=e(89),l=n(f),c=e(41),p=n(c),d=new p.default("pano.gl/utils/gl")},function(t,exports,e){"use strict";function n(t,e){if(!t){throw new Error("Assertion failed! "+(e||""))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n},function(t,exports){t.exports="attribute vec4 a_Pos;\nvarying vec4 v_Pos;\nuniform mat4 u_CamTransMatrix;\n\nvoid main() {\n\tv_Pos = a_Pos;\n\tgl_Position = u_CamTransMatrix * a_Pos;\n}\n"},function(t,exports){t.exports="precision mediump float;\n\n#define PI       3.1415926535897932384626433832795\n#define TWO_PI   6.283185307179586476925286766559\n#define HALF_PI  1.5707963267948966192313216916398\n\n#define CAMERA_PROJECTION_TYPE_LINEAR        1\n#define CAMERA_PROJECTION_TYPE_CYNLINDRICAL  2\n#define CAMERA_PROJECTION_TYPE_PLANET        3\n#define CAMERA_PROJECTION_TYPE_PANNINI       4\n\n#define TEXTURE_PROJECTION_TYPE_EQUIPRECTANGLULAR 1\n#define TEXTURE_PROJECTION_TYPE_FISHEYE           2\n\nuniform sampler2D u_Sampler;\n\nuniform float u_CamGeoWidth;\nuniform float u_CamGeoHeight;\n\nuniform float u_CamPOVLongitude;\nuniform float u_CamPOVLatitude;\nuniform float u_CamZoom;\n\nuniform int u_CamProjType;\nuniform int u_TexProjType;\n\nvarying vec4 v_Pos;\n\nfloat theta = 0.0;\nfloat phi = 0.0;\n\nvoid cam_proj_linear(float x, float y, float z) {\n\ttheta = atan(z / x);\n\n\tif (x<0.0) {\n\t\ttheta = PI + theta;\n\t} else if (x>0.0 && z<0.0) {\n\t\ttheta = TWO_PI + theta;\n\t}\n\n\tphi = atan(y / sqrt(x * x + z * z)) + HALF_PI;\n}\n\nvoid cam_proj_cylindrical(float x, float y, float z) {\n\ty = y * u_CamZoom;\n\tz = z * u_CamZoom;\n\n\ttheta = z * TWO_PI - u_CamPOVLongitude / 2.0;\n\tphi = atan(y) + HALF_PI;\n}\n\nvoid cam_proj_planet(float x, float y, float z) {\n\ty = y * u_CamZoom;\n\tz = z * u_CamZoom;\n\n\tz = -z;\n\n\tfloat m = 1.0 + z * z + y * y;\n\n\tfloat P = (2.0 * z) / m;\n\tfloat Q = (2.0 * y) / m;\n\tfloat R = (m - 2.0) / m;\n\n\ttheta = atan(P/Q);\n\n\tif (Q<0.0) {\n\t\ttheta = PI + theta;\n\t} else if (Q>0.0 && P<0.0) {\n\t\ttheta = TWO_PI + theta;\n\t}\n\n\ttheta -= u_CamPOVLongitude / 2.0;\n\tphi = atan(R / sqrt(P * P + Q * Q)) + HALF_PI;\n}\n\nvoid cam_proj_pannini(float x, float y, float z) {\n\ty = y * u_CamZoom;\n\tz = z * u_CamZoom;\n\n\ttheta = 2.0 * atan(z * 0.5 / x);\n\n\tif (x<0.0) {\n\t\ttheta = PI + theta;\n\t} else if (x>0.0 && z<0.0) {\n\t\ttheta = TWO_PI + theta;\n\t}\n\n\ttheta -= u_CamPOVLongitude / 2.0;\n\n\tphi = atan(y / sqrt(x * x + z * z)) + HALF_PI;\n}\n\nvoid cam_proj(float x, float y, float z) {\n\tif (u_CamProjType == CAMERA_PROJECTION_TYPE_CYNLINDRICAL) {\n\t\tcam_proj_cylindrical(x, y, z);\n\t} else if (u_CamProjType == CAMERA_PROJECTION_TYPE_PLANET) {\n\t\tcam_proj_planet(x, y, z);\n\t} else if (u_CamProjType == CAMERA_PROJECTION_TYPE_PANNINI) {\n    cam_proj_pannini(x, y, z);\n\t} else {\n\t\tcam_proj_linear(x, y, z);\n\t}\n}\n\nvec2 tex_proj_equiprectangular() {\n\treturn vec2(theta/TWO_PI, phi/PI);\n}\n\nvec2 tex_proj_fisheye() {\n\t// todo\n\treturn vec2(0.0, 0.0);\n}\n\nvec2 tex_proj() {\n\tif (u_TexProjType == TEXTURE_PROJECTION_TYPE_EQUIPRECTANGLULAR) {\n\t\treturn tex_proj_equiprectangular();\n\t} else {\n\t\treturn tex_proj_fisheye();\n\t}\n}\n\nvoid main() {\n\tfloat x = v_Pos.x;\n\tfloat y = v_Pos.y;\n\tfloat z = v_Pos.z;\n\n\tcam_proj(x, y, z);\n\n\tgl_FragColor = texture2D(u_Sampler, tex_proj());\n}"},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,r,o){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o,i,u=e(5),a=n(u),s=e(1),f=n(s),l=e(0),c=n(l),p=e(13),d=n(p),h=e(2),v=n(h),y=e(40),_=n(y),m=e(8),g=n(m),b=e(135),x=n(b),w=e(320),O=n(w),j=e(321),P=n(j),T=(0,_.default)((i=function(){function t(){(0,c.default)(this,t),this.pause_=!1,this.requestId_=null,this.frameRateCounter_=new x.default}return(0,v.default)(t,[{key:"frameRate",get:function(){return this.frameRateCounter_.rate}}]),(0,v.default)(t,[{key:"dispose",value:function(){null!==this.requestId_&&((0,P.default)(this.requestId_),this.requestId_=null),(0,d.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"dispose",this).call(this)}},{key:"start",value:function(){var t=this;if(null!==this.requestId_)return this;this.pause_=!1;var e=function e(n){t.pause_||(t.trigger("frame"),t.frameRateCounter_.increment()),t.requestId_=(0,O.default)(e)};return this.requestId_=(0,O.default)(e),this}},{key:"pause",value:function(){return this.pause_=!0,this}}]),t}(),r(i.prototype,"frameRate",[g.default],(0,a.default)(i.prototype,"frameRate"),i.prototype),r(i.prototype,"start",[g.default],(0,a.default)(i.prototype,"start"),i.prototype),r(i.prototype,"pause",[g.default],(0,a.default)(i.prototype,"pause"),i.prototype),o=i))||o;exports.default=T},function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){return setTimeout(t,1e3/60)};exports.default=n},function(t,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.clearTimeout;exports.default=n},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=e(0),o=n(r),i=e(2),u=n(i),a=function(){function t(e,n){(0,o.default)(this,t),this.delegate_=e,this.selector_=n,this.offs_=[],this.status_={}}return(0,u.default)(t,[{key:"eventType",get:function(){return"zoom"}},{key:"delegate",get:function(){return this.delegate_}},{key:"selector",get:function(){return this.selector_}},{key:"status",get:function(){return this.status_}}]),(0,u.default)(t,[{key:"recognize",value:function(){var t=this.delegate,e=this.selector;this.offs_.push(t.on$("mousewheel",e,this.onMouseWheel.bind(this))),this.offs_.push(t.on$("touchstart",e,this.onTouchStart.bind(this))),this.offs_.push(t.on$("touchmove",e,this.onTouchMove.bind(this))),this.offs_.push(t.on$("touchend",e,this.onTouchEnd.bind(this))),this.offs_.push(t.on$("touchcancel",e,this.onTouchCancel.bind(this))),this.status.zooming=!1,this.status.target=null}},{key:"unrecognize",value:function(){this.status.zooming=!1,this.status.target=null,this.offs_.forEach(function(t){return t()}),this.offs_=[]}},{key:"onMouseWheel",value:function(t){var e=new Event("zoom",{bubbles:!0});e.delta=50*t.deltaY,t.target.dispatchEvent(e),t.stopPropagation(),t.preventDefault()}},{key:"onTouchStart",value:function(t){var e=t.targetTouches;if(2!==e.length)return void(this.status.zooming=!1);this.status.zooming=!0,this.status.x0=e[0].clientX,this.status.y0=e[0].clientY,this.status.x1=e[1].clientX,this.status.y1=e[1].clientY,this.status.target=t.target}},{key:"onTouchMove",value:function(t){var e=t.targetTouches;if(2!==e.length)return void(this.status.zooming=!1);if(this.status.zooming){var n=t.target;if(n===this.status.target){var r=e[0].clientX,o=e[0].clientY,i=e[1].clientX,u=e[1].clientY,a=i-r,s=u-o,f=Math.sqrt(a*a+s*s),l=this.status.x0,c=this.status.y0,p=this.status.x1,d=this.status.y1,h=p-l,v=d-c,y=Math.sqrt(h*h+v*v),_=new Event("zoom",{bubbles:!0});_.delta=f-y,n.dispatchEvent(_),this.status.x0=r,this.status.y0=o,this.status.x1=i,this.status.y1=u}}}},{key:"onTouchEnd",value:function(t){this.status.zooming=!1,this.status.target=null,t.preventDefault()}},{key:"onTouchCancel",value:function(t){this.status.zooming=!1,this.status.target=null,t.preventDefault()}}]),t}();exports.default=a},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=e(0),o=n(r),i=e(2),u=n(i),a=function(){function t(e,n){(0,o.default)(this,t),this.delegate_=e,this.selector_=n,this.offs_=[],this.status_={}}return(0,u.default)(t,[{key:"eventType",get:function(){return"pan"}},{key:"delegate",get:function(){return this.delegate_}},{key:"selector",get:function(){return this.selector_}},{key:"status",get:function(){return this.status_}}]),(0,u.default)(t,[{key:"recognize",value:function(){var t=this.delegate,e=this.selector;this.offs_.push(t.on$("mousedown",e,this.onMouseDown.bind(this))),this.offs_.push(t.on$("mousemove",e,this.onMouseMove.bind(this))),this.offs_.push(t.on$("mouseup",e,this.onMouseUp.bind(this))),this.offs_.push(t.on$("touchstart",e,this.onTouchStart.bind(this))),this.offs_.push(t.on$("touchmove",e,this.onTouchMove.bind(this))),this.offs_.push(t.on$("touchend",e,this.onTouchEnd.bind(this))),this.offs_.push(t.on$("touchcancel",e,this.onTouchCancel.bind(this))),this.status.panning=!1,this.status.target=null}},{key:"unrecognize",value:function(){this.status.panning=!1,this.status.target=null,this.offs_.forEach(function(t){return t()}),this.offs_=[]}},{key:"onMouseDown",value:function(t){this.start(t,t.target)}},{key:"onMouseMove",value:function(t){if(this.status.panning){var e=t.target;e===this.status.target&&this.move(t,e)}}},{key:"onMouseUp",value:function(t){this.stop(),t.preventDefault()}},{key:"onTouchStart",value:function(t){var e=t.target,n=t.touches;if(1!==n.length)return void this.stop();this.start(n[0],e)}},{key:"onTouchMove",value:function(t){if(this.status.panning){var e=t.target,n=t.touches;e===this.status.target&&this.move(n[0],e)}}},{key:"onTouchEnd",value:function(t){this.stop(),t.preventDefault()}},{key:"onTouchCancel",value:function(t){this.stop(),t.preventDefault()}},{key:"start",value:function(t,e){this.status.panning=!0,this.status.x=t.clientX,this.status.y=t.clientY,this.status.target=e}},{key:"stop",value:function(){this.status.panning=!1,this.status.target=null}},{key:"move",value:function(t,e){var n=new Event("pan",{bubbles:!0});n.deltaX=t.clientX-this.status.x,n.deltaY=t.clientY-this.status.y,e.dispatchEvent(n),this.status.x=t.clientX,this.status.y=t.clientY}}]),t}();exports.default=a},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,r,o){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o,i,u=e(5),a=n(u),s=e(0),f=n(s),l=e(2),c=n(l),p=e(6),d=n(p),h=e(40),v=n(h),y=e(8),_=n(y),m=(0,v.default)((i=function(){function t(e){(0,f.default)(this,t),this.src=e}return(0,c.default)(t,[{key:"src",get:function(){return this.media.src},set:function(t){var e=this;(0,d.default)(t,"value").isString(),this.media_&&(this.media_.onload=this.media_.onerror=null);var n=this.media_=new Image;n.crossOrigin="anonymous",n.onload=function(t){e.needUpdate_=!0,e.trigger({type:"media-load",domEvent:t})},n.onerror=function(t){e.trigger({type:"media-error",domEvent:t})},this.needUpdate_=!1,n.src=t,this.trigger("media-change")}},{key:"media",get:function(){return this.media_}}]),(0,c.default)(t,[{key:"updateTexture",value:function(t){if(t.direct){var e=this.needUpdate_;return this.needUpdate_=!1,e}if(!this.needUpdate_)return!1;var n=t.frameCanvas;return n.getContext("2d").drawImage(this.media,0,0,n.width,n.height),this.needUpdate_=!1,!0}}]),t}(),r(i.prototype,"src",[_.default],(0,a.default)(i.prototype,"src"),i.prototype),r(i.prototype,"src",[_.default],(0,a.default)(i.prototype,"src"),i.prototype),r(i.prototype,"media",[_.default],(0,a.default)(i.prototype,"media"),i.prototype),o=i))||o;exports.default=m},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=e(1),o=n(r),i=e(0),u=n(i),a=e(3),s=n(a),f=e(4),l=n(f),c=e(15),p=n(c),d=e(33),h=n(d),v=e(138),y=n(v),_=e(328),m=n(_),g=e(42),b=n(g),x=function(t){function e(t){var n=t.fov,r=t.aspect,i=t.povLatitude,a=void 0===i?0:i,f=t.povLongitude,l=void 0===f?0:f,c=t.debug,p=void 0!==c&&c;(0,u.default)(this,e);var d=(0,s.default)(this,(e.__proto__||(0,o.default)(e)).call(this,b.default.PROJECTION_LINEAR,p));return d.initModel(a,l),d.updateConstitutive({fov:n,aspect:r}),d}return(0,l.default)(e,t),e}((0,p.default)(h.default).with(y.default,m.default));exports.default=x},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=t/2;return[[-n,-n,n],[n,-n,n],[n,n,n],[-n,n,n],[-n,-n,-n],[n,-n,-n],[n,n,-n],[-n,n,-n]].map(function(t){return[t[0]+e.x,t[1]+e.y,t[2]+e.z]})}function o(t){var e=t,n=function(t,n,r,o){return new T.default([e[t],e[n],e[r],e[o]])};return[n(0,1,2,3),n(1,5,6,2),n(2,6,7,3),n(3,7,4,0),n(0,4,5,1),n(4,5,6,7)]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=e(1),u=n(i),a=e(0),s=n(a),f=e(2),l=n(f),c=e(3),p=n(c),d=e(4),h=n(d),v=e(17),y=n(v),_=e(6),m=n(_),g=e(15),b=n(g),x=e(139),w=n(x),O=e(140),j=n(O),P=e(66),T=n(P),k=function(t){return function(t){function e(){return(0,s.default)(this,e),(0,p.default)(this,(e.__proto__||(0,u.default)(e)).apply(this,arguments))}return(0,h.default)(e,t),(0,l.default)(e,[{key:"mesh",value:function(){return o(this.vertexes).map(function(t){return t.mesh()}).reduce(function(t,e){return t.concat(e)},[])}}]),e}(t)},M=function(t){function e(t,n,o,i){(0,s.default)(this,e);var a=(0,p.default)(this,(e.__proto__||(0,u.default)(e)).call(this));(0,m.default)(t,"sideLen").gt(0);var f=void 0;return f=n instanceof j.default?n.clone():(0,y.default)(n)?new j.default(n):new j.default(n,o,i),a.center_=f,a.sideLen_=t,a.initGeometry(r(t,f)),a}return(0,h.default)(e,t),(0,l.default)(e,[{key:"center",get:function(){return this.center_}},{key:"sideLen",get:function(){return this.sideLen_}}]),e}((0,b.default)().with(w.default,k));exports.default=M},function(t,exports,e){"use strict";(function(t){var n,r,o,i=e(74),u=function(t){return t&&t.__esModule?t:{default:t}}(i);!function(e,i){"object"===(0,u.default)(exports)&&"object"===(0,u.default)(t)?t.exports=i():(r=[],n=i,void 0!==(o="function"==typeof n?n.apply(exports,r):n)&&(t.exports=o))}(0,function(){var t=function(t){var e,n,r;if(t&&"object"===(void 0===t?"undefined":(0,u.default)(t))&&t.hasOwnProperty("elements")){for(n=t.elements,r=new Float32Array(16),e=0;e<16;++e)r[e]=n[e];this.elements=r}else this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};t.prototype.setIdentity=function(){var t=this.elements;return t[0]=1,t[4]=0,t[8]=0,t[12]=0,t[1]=0,t[5]=1,t[9]=0,t[13]=0,t[2]=0,t[6]=0,t[10]=1,t[14]=0,t[3]=0,t[7]=0,t[11]=0,t[15]=1,this},t.prototype.set=function(t){var e,n,r;if(n=t.elements,r=this.elements,n!==r){for(e=0;e<16;++e)r[e]=n[e];return this}},t.prototype.concat=function(t){var e,n,r,o,i,u,a,s;if(n=this.elements,r=this.elements,o=t.elements,n===o)for(o=new Float32Array(16),e=0;e<16;++e)o[e]=n[e];for(e=0;e<4;e++)i=r[e],u=r[e+4],a=r[e+8],s=r[e+12],n[e]=i*o[0]+u*o[1]+a*o[2]+s*o[3],n[e+4]=i*o[4]+u*o[5]+a*o[6]+s*o[7],n[e+8]=i*o[8]+u*o[9]+a*o[10]+s*o[11],n[e+12]=i*o[12]+u*o[13]+a*o[14]+s*o[15];return this},t.prototype.multiply=t.prototype.concat,t.prototype.multiplyVector3=function(t){var n=this.elements,r=t.elements,o=new e,i=o.elements;return i[0]=r[0]*n[0]+r[1]*n[4]+r[2]*n[8]+n[11],i[1]=r[0]*n[1]+r[1]*n[5]+r[2]*n[9]+n[12],i[2]=r[0]*n[2]+r[1]*n[6]+r[2]*n[10]+n[13],o},t.prototype.multiplyVector4=function(t){var e=this.elements,r=t.elements,o=new n,i=o.elements;return i[0]=r[0]*e[0]+r[1]*e[4]+r[2]*e[8]+r[3]*e[12],i[1]=r[0]*e[1]+r[1]*e[5]+r[2]*e[9]+r[3]*e[13],i[2]=r[0]*e[2]+r[1]*e[6]+r[2]*e[10]+r[3]*e[14],i[3]=r[0]*e[3]+r[1]*e[7]+r[2]*e[11]+r[3]*e[15],o},t.prototype.transpose=function(){var t,e;return t=this.elements,e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},t.prototype.setInverseOf=function(t){var e,n,r,o,i;if(n=t.elements,r=this.elements,o=new Float32Array(16),o[0]=n[5]*n[10]*n[15]-n[5]*n[11]*n[14]-n[9]*n[6]*n[15]+n[9]*n[7]*n[14]+n[13]*n[6]*n[11]-n[13]*n[7]*n[10],o[4]=-n[4]*n[10]*n[15]+n[4]*n[11]*n[14]+n[8]*n[6]*n[15]-n[8]*n[7]*n[14]-n[12]*n[6]*n[11]+n[12]*n[7]*n[10],o[8]=n[4]*n[9]*n[15]-n[4]*n[11]*n[13]-n[8]*n[5]*n[15]+n[8]*n[7]*n[13]+n[12]*n[5]*n[11]-n[12]*n[7]*n[9],o[12]=-n[4]*n[9]*n[14]+n[4]*n[10]*n[13]+n[8]*n[5]*n[14]-n[8]*n[6]*n[13]-n[12]*n[5]*n[10]+n[12]*n[6]*n[9],o[1]=-n[1]*n[10]*n[15]+n[1]*n[11]*n[14]+n[9]*n[2]*n[15]-n[9]*n[3]*n[14]-n[13]*n[2]*n[11]+n[13]*n[3]*n[10],o[5]=n[0]*n[10]*n[15]-n[0]*n[11]*n[14]-n[8]*n[2]*n[15]+n[8]*n[3]*n[14]+n[12]*n[2]*n[11]-n[12]*n[3]*n[10],o[9]=-n[0]*n[9]*n[15]+n[0]*n[11]*n[13]+n[8]*n[1]*n[15]-n[8]*n[3]*n[13]-n[12]*n[1]*n[11]+n[12]*n[3]*n[9],o[13]=n[0]*n[9]*n[14]-n[0]*n[10]*n[13]-n[8]*n[1]*n[14]+n[8]*n[2]*n[13]+n[12]*n[1]*n[10]-n[12]*n[2]*n[9],o[2]=n[1]*n[6]*n[15]-n[1]*n[7]*n[14]-n[5]*n[2]*n[15]+n[5]*n[3]*n[14]+n[13]*n[2]*n[7]-n[13]*n[3]*n[6],o[6]=-n[0]*n[6]*n[15]+n[0]*n[7]*n[14]+n[4]*n[2]*n[15]-n[4]*n[3]*n[14]-n[12]*n[2]*n[7]+n[12]*n[3]*n[6],o[10]=n[0]*n[5]*n[15]-n[0]*n[7]*n[13]-n[4]*n[1]*n[15]+n[4]*n[3]*n[13]+n[12]*n[1]*n[7]-n[12]*n[3]*n[5],o[14]=-n[0]*n[5]*n[14]+n[0]*n[6]*n[13]+n[4]*n[1]*n[14]-n[4]*n[2]*n[13]-n[12]*n[1]*n[6]+n[12]*n[2]*n[5],o[3]=-n[1]*n[6]*n[11]+n[1]*n[7]*n[10]+n[5]*n[2]*n[11]-n[5]*n[3]*n[10]-n[9]*n[2]*n[7]+n[9]*n[3]*n[6],o[7]=n[0]*n[6]*n[11]-n[0]*n[7]*n[10]-n[4]*n[2]*n[11]+n[4]*n[3]*n[10]+n[8]*n[2]*n[7]-n[8]*n[3]*n[6],o[11]=-n[0]*n[5]*n[11]+n[0]*n[7]*n[9]+n[4]*n[1]*n[11]-n[4]*n[3]*n[9]-n[8]*n[1]*n[7]+n[8]*n[3]*n[5],o[15]=n[0]*n[5]*n[10]-n[0]*n[6]*n[9]-n[4]*n[1]*n[10]+n[4]*n[2]*n[9]+n[8]*n[1]*n[6]-n[8]*n[2]*n[5],0===(i=n[0]*o[0]+n[1]*o[4]+n[2]*o[8]+n[3]*o[12]))return this;for(i=1/i,e=0;e<16;e++)r[e]=o[e]*i;return this},t.prototype.invert=function(){return this.setInverseOf(this)},t.prototype.setOrtho=function(t,e,n,r,o,i){var u,a,s,f;if(t===e||n===r||o===i)throw"null frustum";return a=1/(e-t),s=1/(r-n),f=1/(i-o),u=this.elements,u[0]=2*a,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=2*s,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=-2*f,u[11]=0,u[12]=-(e+t)*a,u[13]=-(r+n)*s,u[14]=-(i+o)*f,u[15]=1,this},t.prototype.ortho=function(e,n,r,o,i,u){return this.concat((new t).setOrtho(e,n,r,o,i,u))},t.prototype.setFrustum=function(t,e,n,r,o,i){var u,a,s,f;if(t===e||r===n||o===i)throw"null frustum";if(o<=0)throw"near <= 0";if(i<=0)throw"far <= 0";return a=1/(e-t),s=1/(r-n),f=1/(i-o),u=this.elements,u[0]=2*o*a,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=2*o*s,u[6]=0,u[7]=0,u[8]=(e+t)*a,u[9]=(r+n)*s,u[10]=-(i+o)*f,u[11]=-1,u[12]=0,u[13]=0,u[14]=-2*o*i*f,u[15]=0,this},t.prototype.frustum=function(e,n,r,o,i,u){return this.concat((new t).setFrustum(e,n,r,o,i,u))},t.prototype.setPerspective=function(t,e,n,r){var o,i,u,a;if(n===r||0===e)throw"null frustum";if(n<=0)throw"near <= 0";if(r<=0)throw"far <= 0";if(t=Math.PI*t/180/2,0===(u=Math.sin(t)))throw"null frustum";return i=1/(r-n),a=Math.cos(t)/u,o=this.elements,o[0]=a/e,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=a,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=-(r+n)*i,o[11]=-1,o[12]=0,o[13]=0,o[14]=-2*n*r*i,o[15]=0,this},t.prototype.perspective=function(e,n,r,o){return this.concat((new t).setPerspective(e,n,r,o))},t.prototype.setScale=function(t,e,n){var r=this.elements;return r[0]=t,r[4]=0,r[8]=0,r[12]=0,r[1]=0,r[5]=e,r[9]=0,r[13]=0,r[2]=0,r[6]=0,r[10]=n,r[14]=0,r[3]=0,r[7]=0,r[11]=0,r[15]=1,this},t.prototype.scale=function(t,e,n){var r=this.elements;return r[0]*=t,r[4]*=e,r[8]*=n,r[1]*=t,r[5]*=e,r[9]*=n,r[2]*=t,r[6]*=e,r[10]*=n,r[3]*=t,r[7]*=e,r[11]*=n,this},t.prototype.setTranslate=function(t,e,n){var r=this.elements;return r[0]=1,r[4]=0,r[8]=0,r[12]=t,r[1]=0,r[5]=1,r[9]=0,r[13]=e,r[2]=0,r[6]=0,r[10]=1,r[14]=n,r[3]=0,r[7]=0,r[11]=0,r[15]=1,this},t.prototype.translate=function(t,e,n){var r=this.elements;return r[12]+=r[0]*t+r[4]*e+r[8]*n,r[13]+=r[1]*t+r[5]*e+r[9]*n,r[14]+=r[2]*t+r[6]*e+r[10]*n,r[15]+=r[3]*t+r[7]*e+r[11]*n,this},t.prototype.setRotate=function(t,e,n,r){var o,i,u,a,s,f,l,c,p,d,h,v;return t=Math.PI*t/180,o=this.elements,i=Math.sin(t),u=Math.cos(t),0!==e&&0===n&&0===r?(e<0&&(i=-i),o[0]=1,o[4]=0,o[8]=0,o[12]=0,o[1]=0,o[5]=u,o[9]=-i,o[13]=0,o[2]=0,o[6]=i,o[10]=u,o[14]=0,o[3]=0,o[7]=0,o[11]=0,o[15]=1):0===e&&0!==n&&0===r?(n<0&&(i=-i),o[0]=u,o[4]=0,o[8]=i,o[12]=0,o[1]=0,o[5]=1,o[9]=0,o[13]=0,o[2]=-i,o[6]=0,o[10]=u,o[14]=0,o[3]=0,o[7]=0,o[11]=0,o[15]=1):0===e&&0===n&&0!==r?(r<0&&(i=-i),o[0]=u,o[4]=-i,o[8]=0,o[12]=0,o[1]=i,o[5]=u,o[9]=0,o[13]=0,o[2]=0,o[6]=0,o[10]=1,o[14]=0,o[3]=0,o[7]=0,o[11]=0,o[15]=1):(a=Math.sqrt(e*e+n*n+r*r),1!==a&&(s=1/a,e*=s,n*=s,r*=s),f=1-u,l=e*n,c=n*r,p=r*e,d=e*i,h=n*i,v=r*i,o[0]=e*e*f+u,o[1]=l*f+v,o[2]=p*f-h,o[3]=0,o[4]=l*f-v,o[5]=n*n*f+u,o[6]=c*f+d,o[7]=0,o[8]=p*f+h,o[9]=c*f-d,o[10]=r*r*f+u,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1),this},t.prototype.rotate=function(e,n,r,o){return this.concat((new t).setRotate(e,n,r,o))},t.prototype.setLookAt=function(t,e,n,r,o,i,u,a,s){var f,l,c,p,d,h,v,y,_,m,g,b;return l=r-t,c=o-e,p=i-n,d=1/Math.sqrt(l*l+c*c+p*p),l*=d,c*=d,p*=d,h=c*s-p*a,v=p*u-l*s,y=l*a-c*u,_=1/Math.sqrt(h*h+v*v+y*y),h*=_,v*=_,y*=_,m=v*p-y*c,g=y*l-h*p,b=h*c-v*l,f=this.elements,f[0]=h,f[1]=m,f[2]=-l,f[3]=0,f[4]=v,f[5]=g,f[6]=-c,f[7]=0,f[8]=y,f[9]=b,f[10]=-p,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,this.translate(-t,-e,-n)},t.prototype.lookAt=function(e,n,r,o,i,u,a,s,f){return this.concat((new t).setLookAt(e,n,r,o,i,u,a,s,f))},t.prototype.dropShadow=function(e,n){var r=new t,o=r.elements,i=e[0]*n[0]+e[1]*n[1]+e[2]*n[2]+e[3]*n[3];return o[0]=i-n[0]*e[0],o[1]=-n[1]*e[0],o[2]=-n[2]*e[0],o[3]=-n[3]*e[0],o[4]=-n[0]*e[1],o[5]=i-n[1]*e[1],o[6]=-n[2]*e[1],o[7]=-n[3]*e[1],o[8]=-n[0]*e[2],o[9]=-n[1]*e[2],o[10]=i-n[2]*e[2],o[11]=-n[3]*e[2],o[12]=-n[0]*e[3],o[13]=-n[1]*e[3],o[14]=-n[2]*e[3],o[15]=i-n[3]*e[3],this.concat(r)},t.prototype.dropShadowDirectionally=function(t,e,n,r,o,i,u,a,s){var f=r*t+o*e+i*n;return this.dropShadow([t,e,n,-f],[u,a,s,0])};var e=function(t){var e=new Float32Array(3);t&&"object"===(void 0===t?"undefined":(0,u.default)(t))&&(e[0]=t[0],e[1]=t[1],e[2]=t[2]),this.elements=e};e.prototype.normalize=function(){var t=this.elements,e=t[0],n=t[1],r=t[2],o=Math.sqrt(e*e+n*n+r*r);return o?1==o?this:(o=1/o,t[0]=e*o,t[1]=n*o,t[2]=r*o,this):(t[0]=0,t[1]=0,t[2]=0,this)};var n=function(t){var e=new Float32Array(4);t&&"object"===(void 0===t?"undefined":(0,u.default)(t))&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),this.elements=e};return{Matrix4:t,Vector3:e,Vector4:n}})}).call(exports,e(51)(t))},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,r,o){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Object.defineProperty(exports,"__esModule",{value:!0});var o=e(5),i=n(o),u=e(1),a=n(u),s=e(0),f=n(s),l=e(2),c=n(l),p=e(3),d=n(p),h=e(4),v=n(h),y=e(6),_=n(y),m=e(8),g=n(m),b=e(34),x=n(b);exports.default=function(t){var e;return e=function(t){function e(){return(0,f.default)(this,e),(0,d.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,v.default)(e,t),(0,c.default)(e,[{key:"zoom",value:function(t){(0,_.default)(t,"delta").isNumber(),this.fov+=t}},{key:"updateConstitutive",value:function(t){var e=t.fov,n=t.aspect;(0,_.default)(e,"fov").gt(0),(0,_.default)(n,"aspect").gt(0);e=(0,x.default)(e,1.99,179.38),this.projectionMatrix.setPerspective(e,n,.1,1e3),this.fov_=e,this.aspect_=n,this.dirty=!0}},{key:"fov",get:function(){return this.fov_},set:function(t){(0,_.default)(t,"newVal").isNumber(),t<=0||this.updateConstitutive({fov:t,aspect:this.aspect})}},{key:"aspect",get:function(){return this.aspect_},set:function(t){(0,_.default)(t,"newVal").isNumber(),t<=0||this.updateConstitutive({fov:this.fov,aspect:t})}}]),e}(t),r(e.prototype,"fov",[g.default],(0,i.default)(e.prototype,"fov"),e.prototype),r(e.prototype,"fov",[g.default],(0,i.default)(e.prototype,"fov"),e.prototype),r(e.prototype,"aspect",[g.default],(0,i.default)(e.prototype,"aspect"),e.prototype),r(e.prototype,"aspect",[g.default],(0,i.default)(e.prototype,"aspect"),e.prototype),r(e.prototype,"zoom",[g.default],(0,i.default)(e.prototype,"zoom"),e.prototype),e}},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,r,o){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o,i=e(5),u=n(i),a=e(1),s=n(a),f=e(0),l=n(f),c=e(3),p=n(c),d=e(2),h=n(d),v=e(4),y=n(v),_=e(6),m=n(_),g=e(8),b=n(g),x=e(33),w=n(x),O=e(92),j=n(O),P=e(66),T=n(P),k=e(42),M=n(k),E=e(34),z=n(E),L=.5,A=.5,C=new T.default([[1,A,L],[1,A,-L],[1,-A,-L],[1,-A,L]]).mesh(),N=(o=function(t){function e(t){var n=t.povLatitude,r=void 0===n?0:n,o=t.povLongitude,i=void 0===o?0:o,u=t.zoom,a=void 0===u?1:u,f=t.debug,c=void 0!==f&&f;(0,l.default)(this,e);var d=(0,p.default)(this,(e.__proto__||(0,s.default)(e)).call(this,M.default.PROJECTION_CYNLINDRICAL,c));(0,m.default)(r,"povLatitude").isNumber(),(0,m.default)(i,"povLongitude").isNumber(),(0,m.default)(a,"zoom").isNumber();var h=Math.max(A,L);return d.ortho_=new j.default({left:-h,right:h,top:h,bottom:-h,povLongitude:0,povLatitude:0}),d.povLatitude=r,d.povLongitude=i,d.zoomValue=1,d}return(0,y.default)(e,t),(0,h.default)(e,[{key:"geoVertexes",get:function(){return C}},{key:"povLatitude",get:function(){return this.povLatitude_},set:function(t){(0,m.default)(t,"lat").isNumber(),this.povLatitude_=t}},{key:"povLongitude",get:function(){return this.povLongitude_},set:function(t){(0,m.default)(t,"long").isNumber(),this.povLongitude_=t}},{key:"zoomValue",get:function(){return this.zoomValue_},set:function(t){this.zoomValue_=(0,z.default)(t,.1,1)}}]),(0,h.default)(e,[{key:"rotate",value:function(t,e){(0,m.default)(t,"angleX").isNumber(),(0,m.default)(e,"angleY").isNumber(),this.povLongitude+=t,this.povLatitude+=e}},{key:"zoom",value:function(t){this.zoomValue+=t/20}},{key:"status",value:function(){var t=this.ortho_.status();return t.CamProjType={type:"uniform1i",value:this.projection},t.CamGeoWidth={type:"uniform1f",value:1},t.CamGeoHeight={type:"uniform1f",value:1},t.CamPOVLongitude={type:"uniform1f",value:this.povLongitude},t.CamPOVLatitude={type:"uniform1f",value:this.povLatitude},t.CamZoom={type:"uniform1f",value:this.zoomValue},t}}]),e}(w.default),r(o.prototype,"geoVertexes",[b.default],(0,u.default)(o.prototype,"geoVertexes"),o.prototype),r(o.prototype,"povLatitude",[b.default],(0,u.default)(o.prototype,"povLatitude"),o.prototype),r(o.prototype,"povLatitude",[b.default],(0,u.default)(o.prototype,"povLatitude"),o.prototype),r(o.prototype,"povLongitude",[b.default],(0,u.default)(o.prototype,"povLongitude"),o.prototype),r(o.prototype,"povLongitude",[b.default],(0,u.default)(o.prototype,"povLongitude"),o.prototype),r(o.prototype,"zoomValue",[b.default],(0,u.default)(o.prototype,"zoomValue"),o.prototype),r(o.prototype,"zoomValue",[b.default],(0,u.default)(o.prototype,"zoomValue"),o.prototype),r(o.prototype,"rotate",[b.default],(0,u.default)(o.prototype,"rotate"),o.prototype),r(o.prototype,"zoom",[b.default],(0,u.default)(o.prototype,"zoom"),o.prototype),r(o.prototype,"status",[b.default],(0,u.default)(o.prototype,"status"),o.prototype),o);exports.default=N},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,r,o){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Object.defineProperty(exports,"__esModule",{value:!0});var o=e(5),i=n(o),u=e(1),a=n(u),s=e(0),f=n(s),l=e(2),c=n(l),p=e(3),d=n(p),h=e(4),v=n(h),y=e(6),_=n(y),m=e(8),g=n(m),b=e(34),x=n(b);exports.default=function(t){var e;return e=function(t){function e(){return(0,f.default)(this,e),(0,d.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,v.default)(e,t),(0,c.default)(e,[{key:"zoom",value:function(t){(0,_.default)(t,"delta").isNumber();var e=(this.right-this.left)/(this.bottom-this.top),n=t/5,r=n/e;this.left-=n,this.right+=n,this.top-=r,this.bottom+=r}},{key:"updateConstitutive",value:function(t){var e=t.left,n=t.right,r=t.top,o=t.bottom;(0,_.default)(e,"left").isNumber(),(0,_.default)(n,"right").isNumber(),(0,_.default)(r,"top").isNumber(),(0,_.default)(o,"bottom").isNumber();e=(0,x.default)(e,-1e3,-.1),n=(0,x.default)(n,.1,1e3),r=(0,x.default)(r,.1,1e3),o=(0,x.default)(o,-1e3,-.1),this.projectionMatrix.setOrtho(e,n,o,r,.1,1e3),this.left_=e,this.right_=n,this.top_=r,this.bottom_=o,this.dirty=!0}},{key:"left",get:function(){return this.left_},set:function(t){(0,_.default)(t,"newVal").isNumber(),this.updateConstitutive({left:t,right:this.right_,top:this.top_,bottom:this.bottom_})}},{key:"right",get:function(){return this.right_},set:function(t){(0,_.default)(t,"newVal").isNumber(),this.updateConstitutive({left:this.left_,right:t,top:this.top_,bottom:this.bottom_})}},{key:"top",get:function(){return this.top_},set:function(t){(0,_.default)(t,"newVal").isNumber(),this.updateConstitutive({left:this.left_,right:this.right_,top:t,bottom:this.bottom_})}},{key:"bottom",get:function(){return this.bottom_},set:function(t){(0,_.default)(t,"newVal").isNumber(),this.updateConstitutive({left:this.left_,right:this.right_,top:this.top_,bottom:t})}}]),e}(t),r(e.prototype,"left",[g.default],(0,i.default)(e.prototype,"left"),e.prototype),r(e.prototype,"left",[g.default],(0,i.default)(e.prototype,"left"),e.prototype),r(e.prototype,"right",[g.default],(0,i.default)(e.prototype,"right"),e.prototype),r(e.prototype,"right",[g.default],(0,i.default)(e.prototype,"right"),e.prototype),r(e.prototype,"top",[g.default],(0,i.default)(e.prototype,"top"),e.prototype),r(e.prototype,"top",[g.default],(0,i.default)(e.prototype,"top"),e.prototype),r(e.prototype,"bottom",[g.default],(0,i.default)(e.prototype,"bottom"),e.prototype),r(e.prototype,"bottom",[g.default],(0,i.default)(e.prototype,"bottom"),e.prototype),r(e.prototype,"zoom",[g.default],(0,i.default)(e.prototype,"zoom"),e.prototype),e}},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,r,o){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o,i=e(5),u=n(i),a=e(1),s=n(a),f=e(0),l=n(f),c=e(3),p=n(c),d=e(2),h=n(d),v=e(4),y=n(v),_=e(6),m=n(_),g=e(8),b=n(g),x=e(33),w=n(x),O=e(92),j=n(O),P=e(66),T=n(P),k=e(42),M=n(k),E=e(34),z=n(E),L=4,A=4,C=function(){var t=L/2,e=A/2;return new T.default([[1,e,t],[1,e,-t],[1,-e,-t],[1,-e,t]]).mesh()}(),N=(o=function(t){function e(t){var n=t.povLatitude,r=void 0===n?0:n,o=t.povLongitude,i=void 0===o?0:o,u=t.zoom,a=void 0===u?1:u,f=t.debug,c=void 0!==f&&f;(0,l.default)(this,e);var d=(0,p.default)(this,(e.__proto__||(0,s.default)(e)).call(this,M.default.PROJECTION_PLANET,c));(0,m.default)(r,"povLatitude").isNumber(),(0,m.default)(i,"povLongitude").isNumber(),(0,m.default)(a,"zoom").isNumber();var h=Math.max(L/2,A/2);return d.ortho_=new j.default({left:-h,right:h,top:h,bottom:-h,povLongitude:0,povLatitude:0}),d.povLatitude=r,d.povLongitude=i,d.zoomValue=a,d}return(0,y.default)(e,t),(0,h.default)(e,[{key:"geoVertexes",get:function(){return C}},{key:"povLatitude",get:function(){return this.povLatitude_},set:function(t){(0,m.default)(t,"lat").isNumber(),this.povLatitude_=t}},{key:"povLongitude",get:function(){return this.povLongitude_},set:function(t){(0,m.default)(t,"long").isNumber(),this.povLongitude_=t}},{key:"zoomValue",get:function(){return this.zoomValue_},set:function(t){(0,m.default)(t,"value").isNumber(),this.zoomValue_=(0,z.default)(t,.1,1)}}]),(0,h.default)(e,[{key:"rotate",value:function(t,e){(0,m.default)(t,"angleX").isNumber(),(0,m.default)(e,"angleY").isNumber(),this.povLongitude+=t,this.povLatitude+=e}},{key:"zoom",value:function(t){this.zoomValue+=t/20}},{key:"status",value:function(){var t=this.ortho_.status();return t.CamProjType={type:"uniform1i",value:this.projection},t.CamGeoWidth={type:"uniform1f",value:L},t.CamGeoHeight={type:"uniform1f",value:A},t.CamPOVLongitude={type:"uniform1f",value:this.povLongitude},t.CamPOVLatitude={type:"uniform1f",value:this.povLatitude},t.CamZoom={type:"uniform1f",value:this.zoomValue},t}}]),e}(w.default),r(o.prototype,"geoVertexes",[b.default],(0,u.default)(o.prototype,"geoVertexes"),o.prototype),r(o.prototype,"povLatitude",[b.default],(0,u.default)(o.prototype,"povLatitude"),o.prototype),r(o.prototype,"povLatitude",[b.default],(0,u.default)(o.prototype,"povLatitude"),o.prototype),r(o.prototype,"povLongitude",[b.default],(0,u.default)(o.prototype,"povLongitude"),o.prototype),r(o.prototype,"povLongitude",[b.default],(0,u.default)(o.prototype,"povLongitude"),o.prototype),r(o.prototype,"zoomValue",[b.default],(0,u.default)(o.prototype,"zoomValue"),o.prototype),r(o.prototype,"zoomValue",[b.default],(0,u.default)(o.prototype,"zoomValue"),o.prototype),r(o.prototype,"rotate",[b.default],(0,u.default)(o.prototype,"rotate"),o.prototype),r(o.prototype,"zoom",[b.default],(0,u.default)(o.prototype,"zoom"),o.prototype),r(o.prototype,"status",[b.default],(0,u.default)(o.prototype,"status"),o.prototype),o);exports.default=N},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,r,o){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o,i=e(5),u=n(i),a=e(1),s=n(a),f=e(0),l=n(f),c=e(3),p=n(c),d=e(2),h=n(d),v=e(4),y=n(v),_=e(6),m=n(_),g=e(8),b=n(g),x=e(33),w=n(x),O=e(92),j=n(O),P=e(66),T=n(P),k=e(42),M=n(k),E=e(34),z=n(E),L=4,A=4,C=function(){var t=L/2,e=A/2;return new T.default([[1,e,t],[1,e,-t],[1,-e,-t],[1,-e,t]]).mesh()}(),N=(o=function(t){function e(t){var n=t.povLatitude,r=void 0===n?0:n,o=t.povLongitude,i=void 0===o?0:o,u=t.zoom,a=void 0===u?1:u,f=t.debug,c=void 0!==f&&f;(0,l.default)(this,e);var d=(0,p.default)(this,(e.__proto__||(0,s.default)(e)).call(this,M.default.PROJECTION_TYPE_pannini,c));(0,m.default)(r,"povLatitude").isNumber(),(0,m.default)(i,"povLongitude").isNumber(),(0,m.default)(a,"zoom").isNumber();var h=Math.max(L/2,A/2);return d.ortho_=new j.default({left:-h,right:h,top:h,bottom:-h,povLongitude:0,povLatitude:0}),d.povLatitude=r,d.povLongitude=i,d.zoomValue=1,d}return(0,y.default)(e,t),(0,h.default)(e,[{key:"geoVertexes",get:function(){return C}},{key:"povLatitude",get:function(){return this.povLatitude_},set:function(t){(0,m.default)(t,"lat").isNumber(),this.povLatitude_=t}},{key:"povLongitude",get:function(){return this.povLongitude_},set:function(t){(0,m.default)(t,"long").isNumber(),this.povLongitude_=t}},{key:"zoomValue",get:function(){return this.zoomValue_},set:function(t){this.zoomValue_=(0,z.default)(t,.1,2)}}]),(0,h.default)(e,[{key:"rotate",value:function(t,e){(0,m.default)(t,"angleX").isNumber(),(0,m.default)(e,"angleY").isNumber(),this.povLongitude+=t,this.povLatitude+=e}},{key:"zoom",value:function(t){this.zoomValue+=t/20}},{key:"status",value:function(){var t=this.ortho_.status();return t.CamProjType={type:"uniform1i",value:this.projection},t.CamGeoWidth={type:"uniform1f",value:L},t.CamGeoHeight={type:"uniform1f",value:A},t.CamPOVLongitude={type:"uniform1f",value:this.povLongitude},t.CamPOVLatitude={type:"uniform1f",value:this.povLatitude},t.CamZoom={type:"uniform1f",value:this.zoomValue},t}}]),e}(w.default),r(o.prototype,"geoVertexes",[b.default],(0,u.default)(o.prototype,"geoVertexes"),o.prototype),r(o.prototype,"povLatitude",[b.default],(0,u.default)(o.prototype,"povLatitude"),o.prototype),r(o.prototype,"povLatitude",[b.default],(0,u.default)(o.prototype,"povLatitude"),o.prototype),r(o.prototype,"povLongitude",[b.default],(0,u.default)(o.prototype,"povLongitude"),o.prototype),r(o.prototype,"povLongitude",[b.default],(0,u.default)(o.prototype,"povLongitude"),o.prototype),r(o.prototype,"zoomValue",[b.default],(0,u.default)(o.prototype,"zoomValue"),o.prototype),r(o.prototype,"zoomValue",[b.default],(0,u.default)(o.prototype,"zoomValue"),o.prototype),r(o.prototype,"rotate",[b.default],(0,u.default)(o.prototype,"rotate"),o.prototype),r(o.prototype,"zoom",[b.default],(0,u.default)(o.prototype,"zoom"),o.prototype),r(o.prototype,"status",[b.default],(0,u.default)(o.prototype,"status"),o.prototype),o);exports.default=N},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,r,o){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o,i=e(5),u=n(i),a=e(1),s=n(a),f=e(0),l=n(f),c=e(3),p=n(c),d=e(13),h=n(d),v=e(2),y=n(v),_=e(4),m=n(_),g=e(30),b=n(g),x=e(6),w=n(x),O=e(15),j=n(O),P=e(8),T=n(P),k=e(115),M=n(k),E=e(90),z=n(E),L=e(334),A=n(L),C=e(137),N=n(C),R=e(58),S=n(R),I=b.default,F=(o=function(t){function e(t){var n=t.el,r=t.src,o=t.video,i=t.projection,u=void 0===i?"equiprectangular":i,a=t.frameSize,f=t.camera;(0,l.default)(this,e);var c=(0,p.default)(this,(e.__proto__||(0,s.default)(e)).call(this,n)),d=(0,S.default)(o||r);(0,w.default)(d,"videoSource").isElement(),(0,w.default)(u,"projection").among("equiprectangular","fisheye");var h=c.createCamera(f);c.setCamera(h);var v=new A.default(d),y=new z.default({projection:u,frameSize:a,provider:v});return y.on("*",function(t){return c.trigger(I({target:c},t))}),c.setTexture(y),c}return(0,m.default)(e,t),(0,y.default)(e,[{key:"cameraOptions",set:function(t){var e=this.createCamera(t);this.setCamera(e)}},{key:"video",get:function(){return this.texture.provider.media}}]),(0,y.default)(e,[{key:"dispose",value:function(){(0,h.default)(e.prototype.__proto__||(0,s.default)(e.prototype),"dispose",this).call(this)}}]),e}((0,j.default)(M.default).with(N.default)),r(o.prototype,"cameraOptions",[T.default],(0,u.default)(o.prototype,"cameraOptions"),o.prototype),r(o.prototype,"video",[T.default],(0,u.default)(o.prototype,"video"),o.prototype),o);exports.default=F},function(t,exports,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,r,o){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o,i,u=e(5),a=n(u),s=e(1),f=n(s),l=e(0),c=n(l),p=e(13),d=n(p),h=e(2),v=n(h),y=e(6),_=n(y),m=e(40),g=n(m),b=e(8),x=n(b),w=e(136),O=n(w),j=30,P=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","readystatechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],T=(0,g.default)((i=function(){function t(e){var n=this;(0,c.default)(this,t),(0,_.default)(e,"video").isElement().got("tagName").among("video","VIDEO"),e.setAttribute("webkit-playsinline","true"),e.setAttribute("playsinline","true"),this.updateThrottle_=new O.default(j),this.media_=e,this.mediaEventOffs_=P.map(function(t){var r=function(e){return n.trigger({type:"media-"+t,domEvent:e})};return e.addEventListener(t,r),function(n){return e.removeEventListener(t,r)}})}return(0,v.default)(t,[{key:"media",get:function(){return this.media_}}]),(0,v.default)(t,[{key:"dispose",value:function(){this.detachMedia(),this.updateThrottle_=null,(0,d.default)(t.prototype.__proto__||(0,f.default)(t.prototype),"dispose",this).call(this)}},{key:"updateTexture",value:function(t){var e=this.media_;if(e.readyState!==e.HAVE_ENOUGH_DATA)return!1;if(!this.updateThrottle_.shouldRun)return!1;if(!t.direct){var n=t.frameCanvas;t.frameCanvas.getContext("2d").drawImage(e,0,0,n.width,n.height)}return!0}},{key:"detachMedia",value:function(){this.mediaEventOffs_.forEach(function(t){return t()}),this.media_=null}}]),t}(),r(i.prototype,"media",[x.default],(0,a.default)(i.prototype,"media"),i.prototype),r(i.prototype,"updateTexture",[x.default],(0,a.default)(i.prototype,"updateTexture"),i.prototype),o=i))||o;exports.default=T}])});
//# sourceMappingURL=pano.gl.bundle.min.js.map